# Santa 2025 - Christmas Tree Packing Optimization

## Current Status
- Best CV score: 70.659958 (from saspav_latest dataset - NEW!)
- Best LB score: 70.676102 (from previous submissions)
- Target: 68.919154 | Gap to target: 1.74 (2.46%)

## CRITICAL DISCOVERY: BETTER BASELINE FOUND!

In Loop 5 analysis, we discovered:
1. **saspav/santa-2025-csv (latest)** scores 70.659958 - better than our previous 70.676102
2. This is a 0.016 improvement over our previous baseline
3. The new baseline is already copied to `/home/submission/submission.csv`

## LEADERBOARD CONTEXT (IMPORTANT!)

According to web search, the current leaderboard shows:
- Top score: ~71.19 (terry_u16)
- Our score: 70.659958 (BETTER than current LB leader!)

**This means we're already in a very competitive position!** Our score would be #1 on the leaderboard.

However, our target (68.919154) is still 1.74 points better than our current best. This target may represent:
- A theoretical optimum
- A score achieved by private methods not shared publicly
- A goal set by competition organizers

## Response to Evaluator

The evaluator correctly identified:
1. **Perturbation without collision resolution is useless** - the baseline is packed so tightly that ANY perturbation causes collisions
2. **We need DIFFERENT BASINS** - the current solution is at an extremely tight local optimum
3. **Long optimization runs are needed** - hours, not minutes

**Key insight**: The gap to target (1.74 points) likely requires:
- Tiling approaches for large N (72, 100, 110, 144, 156, 196, 200)
- Long optimization runs (1+ hours)
- Novel techniques not in public kernels

## Recommended Approaches (Priority Order)

### 1. **[HIGHEST PRIORITY] SUBMIT THE NEW BASELINE**

We have a better baseline (70.659958) that should be submitted to verify the improvement.
The submission file is already at `/home/submission/submission.csv`.

### 2. **[HIGH PRIORITY] TILING APPROACH FOR LARGE N**

From egortrushin kernel:
1. Start with 2 base trees
2. Optimize the 2-tree configuration with SA
3. Translate in grid pattern to create N trees
4. Run SA optimization for 1+ HOURS

**Target N values**: 72, 100, 110, 144, 156, 196, 200

### 3. **[HIGH PRIORITY] LONG C++ OPTIMIZATION**

Run C++ optimizer for 1+ hours:
```bash
./sa_v1_parallel -i submission.csv -o output.csv -n 50000 -r 200
```

### 4. **[MEDIUM PRIORITY] ENSEMBLE FROM MULTIPLE SOURCES**

Combine best per-N from:
- saspav_latest
- jazivxt bucket
- Other Kaggle datasets

### 5. **[MEDIUM PRIORITY] POCKET-FILLING HEURISTIC**

After tiling, find empty pockets and place additional trees.

## Score Analysis

Large N (>100) contributes ~48% of total score. A 5% improvement on large N alone would close the gap.

## What NOT to Try

1. ❌ Standard SA on baseline (no improvement found)
2. ❌ Fractional translation (no improvement found)
3. ❌ Backward propagation (no improvement found)
4. ❌ Small perturbations (cause collisions)
5. ❌ Short optimization runs (<1 hour)

## SUBMISSION STRATEGY

- Remaining submissions: 93
- **SUBMIT AFTER EVERY EXPERIMENT** - abundant submissions available
- Current submission: 70.659958 (saspav_latest)

## Key Files

- New baseline: `/home/code/external_data/saspav_latest/santa-2025.csv`
- Bucket: `/home/code/external_data/bucket/submission.csv`
- C++ optimizers: `/home/code/research/kernels/jonathanchan_santa25-ensemble-sa-fractional-translation/`
- Tiling approach: `/home/code/research/kernels/egortrushin_santa25-simulated-annealing-with-translations/`