{
  "query": "python library for no-fit polygon or minkowski sum of irregular polygons",
  "results": [
    {
      "title": "ANSWER",
      "text": "Use\u202f`scikit\u2011geometry` (skgeom) which offers a built\u2011in Minkowski\u2011sum function for 2\u2011D polygons, and the GitHub\u202f`nfp` package (radevgit/nfp) that implements No\u2011Fit\u2011Polygon calculations; for convex polygons the Python library\u202fpypoman\u2019s\u202f`project_polytope` routine can also compute the Minkowski difference. ([scikit\u2011geometry](https://scikit-geometry.github.io/scikit-geometry/polygon.html),\u202f[GitHub\u202fnfp](https://github.com/radevgit/nfp),\u202f[Stack\u202fOverflow\u202fpypoman](https://stackoverflow.com/questions/71068688/minkowski-sum-of-3d-convex-polygons))",
      "url": ""
    },
    {
      "title": "Minkowski Sum of 3D(+) convex polygons - python - Stack Overflow",
      "text": "2024 Developer survey is here and we would like to hear from you!\n[Take the 2024 Developer Survey](https://stackoverflow.com/dev-survey/start?utm_medium=referral&utm_source=stackexchange-community&utm_campaign=dev-survey-2024&utm_content=announcement-banner)\n\n##### Collectives\u2122 on Stack Overflow\n\nFind centralized, trusted content and collaborate around the technologies you use most.\n\n[Learn more about Collectives](https://stackoverflow.com/collectives)\n\n**Teams**\n\nQ&A for work\n\nConnect and share knowledge within a single location that is structured and easy to search.\n\n[Learn more about Teams](https://stackoverflow.co/teams/)\n\nGet early access and see previews of new features.\n\n[Learn more about Labs](https://stackoverflow.co/labs/)\n\n# [Minkowski Sum of 3D(+) convex polygons](https://stackoverflow.com/questions/71068688/minkowski-sum-of-3d-convex-polygons)\n\n[Ask Question](https://stackoverflow.com/questions/ask)\n\nAsked2 years, 4 months ago\n\nModified [2 years, 3 months ago](https://stackoverflow.com/questions/71068688/minkowski-sum-of-3d-convex-polygons?lastactivity)\n\nViewed\n1k times\n\n2\n\nMy goal is to obtain the representations of all faces (in the form of A\\[x,y,z\\]'>b) of a polyhedron that is the result of the convex difference between two convex polyhedra. Meaning, finding the intersection of all planes that are the result of the Minkowski difference of P1 - P2 = { x - y \\| x \\\\in P1, y \\\\in P2 }.\n\nI'm looking for either an established library (Python?) or an idea on how to do this efficiently. I thought about doing something similar to the [GJK algorithm](https://en.wikipedia.org/wiki/Gilbert%E2%80%93Johnson%E2%80%93Keerthi_distance_algorithm) but I need all of the faces, and not just compute whether the origin is inside quickly. Moreover, seems inefficient to use this support function in a methodological way in 3D, or higher dimensions. Also, let's say I got the vertices, do I now need to form the plane equation from two vectors on it with the cross product, for every face, or is there a way to obtain it from the Minkowski sum itself? (keeping in mind the need for higher dimensions).\n\n- [python](https://stackoverflow.com/questions/tagged/python)\n- [computational-geometry](https://stackoverflow.com/questions/tagged/computational-geometry)\n- [point-in-polygon](https://stackoverflow.com/questions/tagged/point-in-polygon)\n- [convex-polygon](https://stackoverflow.com/questions/tagged/convex-polygon)\n\n[Share](https://stackoverflow.com/q/71068688)\n\n[Improve this question](https://stackoverflow.com/posts/71068688/edit)\n\nFollow\n\nasked Feb 10, 2022 at 16:25\n\n[![GuyS's user avatar](https://www.gravatar.com/avatar/24f1b4392bd931f0dae273822c1c2493?s=64&d=identicon&r=PG&f=y&so-version=2)](https://stackoverflow.com/users/11932275/guys)\n\n[GuyS](https://stackoverflow.com/users/11932275/guys) GuyS\n\n10588 bronze badges\n\n4\n\n- This appears to be a math question.\n\n\u2013\u00a0[a\\_guest](https://stackoverflow.com/users/3767239/a-guest)\n\nCommentedFeb 10, 2022 at 16:28\n\n- 1\n\n\n\n\n\nHint: the Minkowski sum (or difference) is the convex hull of the points obtained by replicating the vertices of one polyhedron around every vertex of the other. So you can obtain it with a 3D hull algorithm such as QuickHull. This immediately generalizes to higher dimensions.\n\n\u2013\u00a0user1196549\n\nCommentedFeb 10, 2022 at 21:09\n\n- Thanks @YvesDaoust but it seems that finding the convexhull operation is difficult and won't scale well, especially when there are a lot of vertices. I posted an answer with what I finally came up with.\n\n\u2013\u00a0[GuyS](https://stackoverflow.com/users/11932275/guys)\n\nCommentedFeb 11, 2022 at 21:17\n\n- @GuyS: not more difficult nor not-scaling-well than the half space approach.\n\n\u2013\u00a0user1196549\n\nCommentedFeb 11, 2022 at 21:19\n\n\n[Add a comment](https://stackoverflow.com/questions/71068688/minkowski-sum-of-3d-convex-polygons)\u00a0\\|\n\n## 1 Answer 1\n\nSorted by:\n[Reset to default](https://stackoverflow.com/questions/71068688/minkowski-sum-of-3d-convex-polygons?answertab=scoredesc#tab-top)\n\nHighest score (default)Trending (recent votes count more)Date modified (newest first)Date created (oldest first)\n\n2\n\nOk, it seems I was finally able to solve it, and I'm posting in case it would interest anyone in the future:\n\nFirst, I pip installed the [pypoman library](https://scaron.info/doc/pypoman).\nWith it, we are able to move easily between vertices and faces with `compute_polytope_halfspaces` (aka, the H-representation of a polytope). So I get the representation P\\_i: H\\_i x < h\\_i for i=1,2 from the vertices (or skip it if it's already in the correct format).\n\nNow if we set P\\_sum = {\\[x1;x2\\] \\\\in R^2n \\| \\[H\\_1 0; 0 H\\_2\\] \\[x1;x2\\]' < \\[h\\_1,h\\_2\\]'}, notice that the Minkowski sum is equivalent to P1+P2 = \\[I,I\\] P\\_sum (idea from this [paper](https://arxiv.org/pdf/1903.05214.pdf) IV.B). So I can use pypoman's `project_polytope` function to get the Minkwoski sum with H\\_sum x < h\\_sum in the original dimensions.\n\n[Share](https://stackoverflow.com/a/71086582)\n\n[Improve this answer](https://stackoverflow.com/posts/71086582/edit)\n\nFollow\n\nanswered Feb 11, 2022 at 21:14\n\n[![GuyS's user avatar](https://www.gravatar.com/avatar/24f1b4392bd931f0dae273822c1c2493?s=64&d=identicon&r=PG&f=y&so-version=2)](https://stackoverflow.com/users/11932275/guys)\n\n[GuyS](https://stackoverflow.com/users/11932275/guys) GuyS\n\n10588 bronze badges\n\n[Add a comment](https://stackoverflow.com/questions/71068688/minkowski-sum-of-3d-convex-polygons)\u00a0\\|\n\n## Your Answer\n\n**Reminder:** Answers generated by artificial intelligence tools are not allowed on Stack Overflow. [Learn more](https://stackoverflow.com/help/gen-ai-policy)\n\nDraft saved\n\nDraft discarded\n\n### Sign up or [log in](https://stackoverflow.com/users/login?ssrc=question_page&returnurl=https%3a%2f%2fstackoverflow.com%2fquestions%2f71068688%2fminkowski-sum-of-3d-convex-polygons%23new-answer)\n\nSign up using Google\n\nSign up using Email and Password\n\nSubmit\n\n### Post as a guest\n\nName\n\nEmail\n\nRequired, but never shown\n\nPost Your Answer\n\nDiscard\n\nBy clicking \u201cPost Your Answer\u201d, you agree to our [terms of service](https://stackoverflow.com/legal/terms-of-service/public) and acknowledge you have read our [privacy policy](https://stackoverflow.com/legal/privacy-policy).\n\n## Not the answer you're looking for? Browse other questions tagged  - [python](https://stackoverflow.com/questions/tagged/python) - [computational-geometry](https://stackoverflow.com/questions/tagged/computational-geometry) - [point-in-polygon](https://stackoverflow.com/questions/tagged/point-in-polygon) - [convex-polygon](https://stackoverflow.com/questions/tagged/convex-polygon)   or [ask your own question](https://stackoverflow.com/questions/ask).\n\n- Featured on Meta\n- [Upcoming sign-up experiments related to tags](https://meta.stackexchange.com/questions/400648/upcoming-sign-up-experiments-related-to-tags)\n\n- [Policy: Generative AI (e.g., ChatGPT) is banned](https://meta.stackoverflow.com/questions/421831/policy-generative-ai-e-g-chatgpt-is-banned)\n\n- [The return of Staging Ground to Stack Overflow](https://meta.stackoverflow.com/questions/430404/the-return-of-staging-ground-to-stack-overflow)\n\n- [The 2024 Developer Survey Is Live](https://meta.stackoverflow.com/questions/430298/the-2024-developer-survey-is-live)\n\n\n#### Related\n\n[2](https://stackoverflow.com/q/432080) [3D Polygons in Python](https://stackoverflow.com/questions/432080/3d-polygons-in-python)\n\n[7](https://stackoverflow.com/q/14724933) [Convex Hull and SciPy](https://stackoverflow.com/questions/14724933/convex-hull-and-scipy)\n\n[0](https://stackoverflow.com/q/16325720) [Point in convex polygon](https://stackoverflow.com/questions/16325720/point-in-convex-polygon)\n\n[1](https://stackoverflow.com/q/19447975) [Polygon Offset/ Minkowski sum with a sphere algorithm](https://stackoverflow.com/questions/19447975/polygon-offset-minkowski-sum-with-a-sphere-algorithm)\n\n[20](https://stackoverflow.com/q/19873596) [Convex hull area in Python?](https://stackoverflow.com...",
      "url": "https://stackoverflow.com/questions/71068688/minkowski-sum-of-3d-convex-polygons"
    },
    {
      "title": "Polygons - scikit-geometry - GitHub Pages",
      "text": "- [Docs](https://scikit-geometry.github.io/index.html) \u00bb\n- Polygons\n- [View page source](https://scikit-geometry.github.io/_sources/polygon.ipynb.txt)\n\n# Polygons [\u00b6](https://scikit-geometry.github.io/scikit-geometry.github.io\\#Polygons)\n\n`scikit-geometry` can handle polygons, as well as polygons with holes. Polygons can be created from lists of points.\n\n```\n[1]:\n\n```\n\n```\nimport skgeom as sg\nfrom skgeom.draw import draw\n```\n\n```\n[2]:\n\n```\n\n```\npoly = sg.Polygon([sg.Point2(0, 0), sg.Point2(0, 3), sg.Point2(3, 3)])\n```\n\n```\n[3]:\n\n```\n\n```\ndraw(poly)\n```\n\nYou may also use lists of coordinates or numpy arrays to construct polygons:\n\n```\n[4]:\n\n```\n\n```\nsg.Polygon([[0, 0], [0, 3], [3, 3]])\n```\n\nLikewise, you can access a Polygon\u2019s vertices as either a list of `Point2` s or as a numpy array:\n\n```\n[5]:\n\n```\n\n```\nlist(poly.vertices)\n```\n\n```\n[5]:\n\n```\n\n```\n[PointC2(0, 0), PointC2(0, 3), PointC2(3, 3)]\n\n```\n\n```\n[6]:\n\n```\n\n```\npoly.coords\n```\n\n```\n[6]:\n\n```\n\n```\narray([[0., 0.],\n       [0., 3.],\n       [3., 3.]])\n\n```\n\nWe can check wether a given point is _inside_ the polygon (a negative sign means outside, positive means inside):\n\n```\n[7]:\n\n```\n\n```\npoly.oriented_side(sg.Point2(1, 2))\n```\n\n```\n[7]:\n\n```\n\n```\nSign.NEGATIVE\n\n```\n\n```\n[8]:\n\n```\n\n```\npoly.oriented_side(sg.Point2(2, 1))\n```\n\n```\n[8]:\n\n```\n\n```\nSign.POSITIVE\n\n```\n\nCalculate the bounding box\n\n```\n[9]:\n\n```\n\n```\npoly.bbox()\n```\n\n```\n[9]:\n\n```\n\n```\nBbox_2(0, 0, 3, 3)\n\n```\n\nCompute the area of the polygon. Note: the sign depends on the order of the polygon (clockwise \u2192 negative, counter-clockwise \u2192 positive).\n\n```\n[10]:\n\n```\n\n```\npoly.area()\n```\n\n```\n[10]:\n\n```\n\n```\n-4.5\n\n```\n\n```\n[11]:\n\n```\n\n```\npoly.orientation() == sg.Sign.CLOCKWISE\n```\n\n```\n[11]:\n\n```\n\n```\nTrue\n\n```\n\n```\n[12]:\n\n```\n\n```\npoly.is_convex()\n```\n\n```\n[12]:\n\n```\n\n```\nTrue\n\n```\n\n```\n[13]:\n\n```\n\n```\npoly.is_simple()\n```\n\n```\n[13]:\n\n```\n\n```\nTrue\n\n```\n\n## Polygon with Holes [\u00b6](https://scikit-geometry.github.io/scikit-geometry.github.io\\#Polygon-with-Holes)\n\nWe can cut out an area of a Polygon by adding one or multiple holes.\n\n```\n[14]:\n\n```\n\n```\nhole = sg.Polygon([\n    sg.Point2(1.0, 2.0),\n    sg.Point2(1.0, 2.5),\n    sg.Point2(0.5, 2.5),\n    sg.Point2(0.5, 2.0)]\n)\npoly_with_hole = sg.PolygonWithHoles(poly, [hole])\n```\n\n```\n[15]:\n\n```\n\n```\ndraw(poly_with_hole)\n```\n\n### Boolean operations on Polygons [\u00b6](https://scikit-geometry.github.io/scikit-geometry.github.io\\#Boolean-operations-on-Polygons)\n\n_scikit-geometry_ supports boolean operations on polygons, such as computing the union, difference and intersection between two polygons (or polygons with holes).\n\n```\n[16]:\n\n```\n\n```\npoly1 = sg.Polygon([sg.Point2(3, 0), sg.Point2(3, 3), sg.Point2(0, 3), sg.Point2(0, 0)])\npoly2 = sg.Polygon([sg.Point2(5, 2), sg.Point2(5, 5), sg.Point2(2, 5), sg.Point2(2, 2)])\n```\n\n```\n[17]:\n\n```\n\n```\ndraw(poly1, facecolor='red')\ndraw(poly2, facecolor='blue')\n```\n\n```\n[18]:\n\n```\n\n```\nfrom skgeom import boolean_set\n```\n\n```\n[19]:\n\n```\n\n```\ndraw(boolean_set.join(poly1, poly2))\n```\n\n```\n[20]:\n\n```\n\n```\ndraw(boolean_set.difference(poly1, poly2))\n```\n\n```\n[21]:\n\n```\n\n```\ndraw(boolean_set.symmetric_difference(poly1, poly2))\n```\n\n```\n[22]:\n\n```\n\n```\ndraw(boolean_set.intersect(poly1, poly2))\n```\n\n## Minkowski Sum of 2 Polygons [\u00b6](https://scikit-geometry.github.io/scikit-geometry.github.io\\#Minkowski-Sum-of-2-Polygons)\n\nWe can compute the minkowski sum of two polygons easily (i.e.\u00a0offsetting a polygon with another polygon).\n\n```\n[23]:\n\n```\n\n```\nfrom skgeom import minkowski\n```\n\n```\n[24]:\n\n```\n\n```\np1 = sg.Polygon([sg.Point2(-1, -1), sg.Point2(1, -1), sg.Point2(0, 1)])\np2 = sg.Polygon([sg.Point2(3, -1), sg.Point2(5, -1), sg.Point2(5, 1), sg.Point2(3, 1)])\n```\n\n```\n[25]:\n\n```\n\n```\ndraw(p1, facecolor='red')\ndraw(p2, facecolor='blue')\n```\n\n```\n[26]:\n\n```\n\n```\nresult = minkowski.minkowski_sum(p1, p2)\ndraw(result)\n```",
      "url": "https://scikit-geometry.github.io/scikit-geometry/polygon.html"
    },
    {
      "title": "Search code, repositories, users, issues, pull requests...",
      "text": "GitHub - radevgit/nfp: No Fit Polygon\n[Skip to content](#start-of-content)\n## Navigation Menu\nToggle navigation\n[](https://github.com/)\n[Sign in](https://github.com/login?return_to=https://github.com/radevgit/nfp)\nAppearance settings\nSearch or jump to...\n# Search code, repositories, users, issues, pull requests...\n</option></form>\nSearch\nClear\n[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)\n# Provide feedback\n</option></form>\nWe read every piece of feedback, and take your input very seriously.\nInclude my email address so I can be contacted\nCancelSubmit feedback\n# Saved searches\n## Use saved searches to filter your results more quickly\n</option></form>\nName\nQuery\nTo see all available qualifiers, see our[documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).\nCancelCreate saved search\n[Sign in](https://github.com/login?return_to=https://github.com/radevgit/nfp)\n[Sign up](https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=/%3Cuser-name%3E/%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=radevgit/nfp)\nAppearance settings\nResetting focus\nYou signed in with another tab or window.[Reload]()to refresh your session.You signed out in another tab or window.[Reload]()to refresh your session.You switched accounts on another tab or window.[Reload]()to refresh your session.Dismiss alert\n{{ message }}\n[radevgit](https://github.com/radevgit)/**[nfp](https://github.com/radevgit/nfp)**Public\n* [Notifications](https://github.com/login?return_to=/radevgit/nfp)You must be signed in to change notification settings\n* [Fork0](https://github.com/login?return_to=/radevgit/nfp)\n* [Star4](https://github.com/login?return_to=/radevgit/nfp)\nNo Fit Polygon\n### License\n[MIT license](https://github.com/radevgit/nfp/blob/main/LICENSE)\n[4stars](https://github.com/radevgit/nfp/stargazers)[0forks](https://github.com/radevgit/nfp/forks)[Branches](https://github.com/radevgit/nfp/branches)[Tags](https://github.com/radevgit/nfp/tags)[Activity](https://github.com/radevgit/nfp/activity)\n[Star](https://github.com/login?return_to=/radevgit/nfp)\n[Notifications](https://github.com/login?return_to=/radevgit/nfp)You must be signed in to change notification settings\n# radevgit/nfp\nmain\n[Branches](https://github.com/radevgit/nfp/branches)[Tags](https://github.com/radevgit/nfp/tags)\n[](https://github.com/radevgit/nfp/branches)[](https://github.com/radevgit/nfp/tags)\nGo to file\nCode\nOpen more actions menu\n## Folders and files\n|Name|Name|\nLast commit message\n|\nLast commit date\n|\n## Latest commit\n## History\n[21 Commits](https://github.com/radevgit/nfp/commits/main/)\n[](https://github.com/radevgit/nfp/commits/main/)\n|\n[.github/workflows](https://github.com/radevgit/nfp/tree/main/.github/workflows)\n|\n[.github/workflows](https://github.com/radevgit/nfp/tree/main/.github/workflows)\n|\n|\n|\n[benches](https://github.com/radevgit/nfp/tree/main/benches)\n|\n[benches](https://github.com/radevgit/nfp/tree/main/benches)\n|\n|\n|\n[docs](https://github.com/radevgit/nfp/tree/main/docs)\n|\n[docs](https://github.com/radevgit/nfp/tree/main/docs)\n|\n|\n|\n[examples](https://github.com/radevgit/nfp/tree/main/examples)\n|\n[examples](https://github.com/radevgit/nfp/tree/main/examples)\n|\n|\n|\n[src](https://github.com/radevgit/nfp/tree/main/src)\n|\n[src](https://github.com/radevgit/nfp/tree/main/src)\n|\n|\n|\n[.gitignore](https://github.com/radevgit/nfp/blob/main/.gitignore)\n|\n[.gitignore](https://github.com/radevgit/nfp/blob/main/.gitignore)\n|\n|\n|\n[CHANGELOG.md](https://github.com/radevgit/nfp/blob/main/CHANGELOG.md)\n|\n[CHANGELOG.md](https://github.com/radevgit/nfp/blob/main/CHANGELOG.md)\n|\n|\n|\n[Cargo.lock](https://github.com/radevgit/nfp/blob/main/Cargo.lock)\n|\n[Cargo.lock](https://github.com/radevgit/nfp/blob/main/Cargo.lock)\n|\n|\n|\n[Cargo.toml](https://github.com/radevgit/nfp/blob/main/Cargo.toml)\n|\n[Cargo.toml](https://github.com/radevgit/nfp/blob/main/Cargo.toml)\n|\n|\n|\n[LICENSE](https://github.com/radevgit/nfp/blob/main/LICENSE)\n|\n[LICENSE](https://github.com/radevgit/nfp/blob/main/LICENSE)\n|\n|\n|\n[README.md](https://github.com/radevgit/nfp/blob/main/README.md)\n|\n[README.md](https://github.com/radevgit/nfp/blob/main/README.md)\n|\n|\n|\nView all files\n|\n## Repository files navigation\n# NFP - No Fit Polygon\n[](#nfp---no-fit-polygon)\n[![Crates.io](https://camo.githubusercontent.com/89621f54a2628470a71775ae56c32b9d74a43725385c28f25d2b8f298c9e6dda/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f6e66702e7376673f636f6c6f723d626c7565)](https://crates.io/crates/nfp)[![Documentation](https://camo.githubusercontent.com/381d5ed53476f28f690bafd602b9d5ca7227533f73c01c1ccce63d2a4b76b960/68747470733a2f2f646f63732e72732f6e66702f62616467652e737667)](https://docs.rs/nfp)[![License: MIT](https://camo.githubusercontent.com/08cef40a9105b6526ca22088bc514fbfdbc9aac1ddbf8d4e6c750e3a88a44dca/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d626c75652e737667)](https://opensource.org/licenses/MIT)\nA Rust library for computing the No Fit Polygon (Minkowski sum) of two convex polygons for nesting and packing optimization.\n## What is NFP?\n[](#what-is-nfp)\nThe No Fit Polygon defines the forbidden region where one polygon cannot be placed relative to another without collision. When polygon B's origin is**outside**the NFP, the polygons do**not**overlap. When it's**inside**, they**do**collide.\n## Installation\n[](#installation)\nAdd this to your`Cargo.toml`:\n```\n[dependencies]nfp=\"0.3\"\n```\n## Quick Start\n[](#quick-start)\n```\nusenfp::prelude::\\*;// Two convex polygons at origin (CCW orientation)letsquare\\_a =vec![point(0.0,0.0),point(10.0,0.0),point(10.0,10.0),point(0.0,10.0),];letsquare\\_b =vec![point(0.0,0.0),point(5.0,0.0),point(5.0,5.0),point(0.0,5.0),];// Compute NFPmatchNFPConvex::nfp(&amp;square\\_a,&amp;square\\_b){Ok(nfp)=&gt;{println!(\"NFP has {} vertices\",nfp.len());// Now use NFP for collision detection:// point inside NFP \u2192collision, point outside \u2192no collision}Err(e)=&gt;eprintln!(\"Error: {}\",e),}\n```\n## Collision Detection\n[](#collision-detection)\nOnce you have the NFP, detect collisions by testing if B's origin is inside or outside:\n```\nusenfp::prelude::\\*;fnpoint\\_in\\_polygon(pt:Point,polygon:&amp;[Point])-&gt;bool{letmutinside =false;letmutp1 = polygon[polygon.len()-1];forp2inpolygon{if((p2.y&gt; pt.y)!=(p1.y&gt; pt.y))&amp;&amp;(pt.x&lt;(p1.x- p2.x)\\*(pt.y- p2.y)/(p1.y- p2.y)+ p2.x){inside = !inside;}p1 =\\*p2;}inside}// Compute NFP firstletsquare\\_a =vec![point(0.0,0.0),point(10.0,0.0),point(10.0,10.0),point(0.0,10.0)];letsquare\\_b =vec![point(0.0,0.0),point(5.0,0.0),point(5.0,5.0),point(0.0,5.0)];letnfp =NFPConvex::nfp(&amp;square\\_a,&amp;square\\_b).unwrap();// Check if placing B at (15.0, 15.0) causes collisionlettest\\_position =point(15.0,15.0);ifpoint\\_in\\_polygon(test\\_position,&amp;nfp){println!(\"Collision detected!\");}else{println!(\"Safe placement\");}\n```\n## Requirements\n[](#requirements)\n* Both input polygons**must be convex**\n* Both polygons must have**at least 3 vertices**\n* Polygons should be in**counter-clockwise (CCW) orientation**\n* Polygons must be**closed**(last point connects to first conceptually)\n## API Reference\n[](#api-reference)\n`NFPConvex::nfp(poly\\_a, poly\\_b) -&gt;&gt; Result&lt;&lt;Vec&lt;&lt;Point&gt;&gt;, NfpError&gt;&gt;`\nComputes the No Fit Polygon for two convex polygons using Minkowski sum.\nArguments:\n* `poly\\_a`- First convex polygon as slice of points\n* `poly\\_b`- Second convex polygon as slice of points\nReturns:\n* `Ok(Vec&lt;Point&gt;)`- NFP as counter-clockwise convex polygon\n* `Err(NfpError)`- If input validation fails\nTime Complexity: O(n\u00b7m log(n\u00b7m)) where n = |A| vertices, m = |B| vertices\n`NfpError`\nError enumeration for NFP operations.\nVariants:\n* `EmptyPolygon`- One or both input polygons are empty\n* `InsufficientVertices`- One or both polygons have fewer than 3 vertices\n**Example:**\n```\nusenfp::prelude::\\*;m...",
      "url": "https://github.com/radevgit/nfp"
    },
    {
      "title": "Calculation of Minkowski sum for two convex polygons in 2R space",
      "text": "[Skip to content](https://github.com/github.com#start-of-content)\n\nYou signed in with another tab or window. Reload to refresh your session.You signed out in another tab or window. Reload to refresh your session.You switched accounts on another tab or window. Reload to refresh your session.Dismiss alert\n\n[grzesiek2201](https://github.com/grzesiek2201)/ **[MinkowskiSum](https://github.com/grzesiek2201/MinkowskiSum)** Public\n\n- [Notifications](https://github.com/login?return_to=%2Fgrzesiek2201%2FMinkowskiSum) You must be signed in to change notification settings\n- [Fork\\\n0](https://github.com/login?return_to=%2Fgrzesiek2201%2FMinkowskiSum)\n- [Star\\\n1](https://github.com/login?return_to=%2Fgrzesiek2201%2FMinkowskiSum)\n\n\nCalculation of Minkowski sum for two convex polygons in 2R space\n\n### License\n\n[GPL-3.0 license](https://github.com/grzesiek2201/MinkowskiSum/blob/main/LICENSE)\n\n[1\\\nstar](https://github.com/grzesiek2201/MinkowskiSum/stargazers) [0\\\nforks](https://github.com/grzesiek2201/MinkowskiSum/forks) [Branches](https://github.com/grzesiek2201/MinkowskiSum/branches) [Tags](https://github.com/grzesiek2201/MinkowskiSum/tags) [Activity](https://github.com/grzesiek2201/MinkowskiSum/activity)\n\n[Star](https://github.com/login?return_to=%2Fgrzesiek2201%2FMinkowskiSum)\n\n[Notifications](https://github.com/login?return_to=%2Fgrzesiek2201%2FMinkowskiSum) You must be signed in to change notification settings\n\n# grzesiek2201/MinkowskiSum\n\nmain\n\n[Branches](https://github.com/grzesiek2201/MinkowskiSum/branches) [Tags](https://github.com/grzesiek2201/MinkowskiSum/tags)\n\nGo to file\n\nCode\n\nOpen more actions menu\n\n## Folders and files\n\n| Name | Name | Last commit message | Last commit date |\n| --- | --- | --- | --- |\n| ## Latest commit<br>## History<br>[16 Commits](https://github.com/grzesiek2201/MinkowskiSum/commits/main/) |\n| [images](https://github.com/grzesiek2201/MinkowskiSum/tree/main/images) | [images](https://github.com/grzesiek2201/MinkowskiSum/tree/main/images) |\n| [src](https://github.com/grzesiek2201/MinkowskiSum/tree/main/src) | [src](https://github.com/grzesiek2201/MinkowskiSum/tree/main/src) |\n| [LICENSE](https://github.com/grzesiek2201/MinkowskiSum/blob/main/LICENSE) | [LICENSE](https://github.com/grzesiek2201/MinkowskiSum/blob/main/LICENSE) |\n| [README.md](https://github.com/grzesiek2201/MinkowskiSum/blob/main/README.md) | [README.md](https://github.com/grzesiek2201/MinkowskiSum/blob/main/README.md) |\n| View all files |\n\n## Repository files navigation\n\n# Minkowski sum\n\nCalculation of Minkowski sum for two convex polygons in 2R space.\n\nOften used to determine collision detection in path planning algorithms with robots of non-circular footprint.\nWritten in python.\n\nHeavily based on this article: [Minkowski sum of convex polygons](https://vnspoj.github.io/wiki/geometry/minkowski).\n\n## About\n\nCalculation of Minkowski sum for two convex polygons in 2R space\n\n### Topics\n\n[python](https://github.com/topics/python) [collision-detection](https://github.com/topics/collision-detection) [minkowski-sum](https://github.com/topics/minkowski-sum)\n\n### Resources\n\n[Readme](https://github.com/github.com#readme-ov-file)\n\n### License\n\n[GPL-3.0 license](https://github.com/github.com#GPL-3.0-1-ov-file)\n\n### Uh oh!\n\nThere was an error while loading. Please reload this page.\n\n[Activity](https://github.com/grzesiek2201/MinkowskiSum/activity)\n\n### Stars\n\n[**1**\\\nstar](https://github.com/grzesiek2201/MinkowskiSum/stargazers)\n\n### Watchers\n\n[**1**\\\nwatching](https://github.com/grzesiek2201/MinkowskiSum/watchers)\n\n### Forks\n\n[**0**\\\nforks](https://github.com/grzesiek2201/MinkowskiSum/forks)\n\n[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fgrzesiek2201%2FMinkowskiSum&report=grzesiek2201+%28user%29)\n\n## [Releases](https://github.com/grzesiek2201/MinkowskiSum/releases)\n\nNo releases published\n\n## [Packages\\ 0](https://github.com/users/grzesiek2201/packages?repo_name=MinkowskiSum)\n\nNo packages published\n\n## Languages\n\n- [Python100.0%](https://github.com/grzesiek2201/MinkowskiSum/search?l=python)\n\nYou can\u2019t perform that action at this time.",
      "url": "https://github.com/grzesiek2201/MinkowskiSum"
    },
    {
      "title": "Minkowski Sum Tutorial - Polygon Usage - Boost",
      "text": "# [![Boost C++ Libraries](https://www.boost.org/static/img/original_docs/space.png)BoostC++ Libraries](https://www.boost.org/)\n> ...one of the most highly> regarded and expertly designed C++ library projects in the world.\n\u2014[Herb Sutter](https://herbsutter.com)and[Andrei\nAlexandrescu](http://en.wikipedia.org/wiki/Andrei_Alexandrescu),[C++\nCoding Standards](https://books.google.com/books/about/C++_Coding_Standards.html?id=mmjVIC6WolgC)\nSearch...\nPolygon Usage# Minkowski Sum Tutorial\nIn this tutorial we will implement an algorithm to compute the Minkowski sum of two polygon sets.\u00a0 The Minkowski sum of two polygon sets is the convolution of the two polygon sets and is defined as the set of points which is produced if you sum all pairs of points in the two polygon sets.\u00a0 The sum of two points is implemented in Boost.Polygon by theconvolvefunction for[point\\_concept](gtl_point_concept.htm).\u00a0 Similarly there is aconvolvefunction for[rectangle\\_concept](gtl_rectangle_concept.htm).\u00a0 The convolution of two polygon sets produces a polygon set as its output.\u00a0 An example of the convolution of two polygons is shown below.\u00a0 The center point of the green star can be imagined to slide around freely inside the blue picture frame shape painting the area the star touches to produce the red bloated picture frame.\n![](images/convolution1.PNG)\nThe above image was produced using the code presented in this tutorial.\u00a0 We can see that the algorithm for Minkowski sum should support non-convex polygons that may potentially have holes.\u00a0 It should also support disjoint polygons in both input polygon sets.\u00a0 Shown below is what happens when multiple polygons are present in each input polygon set.\n![](images/convolution2.PNG)\nIn each of these examples the origin of the coordinate system is in the lower left corner of the image and the sum of the x and y locations of the input polygons places the result in the upper right hand corner of the images.\u00a0 In the example above the lower left red triangle is the convolution of the small blue triangle with the small green triangle.\u00a0 The upper right red triangle is the convolution of the large blue and large green triangle.\u00a0 The two medium sized red polygons are the result of the convolution of the small with large and large with small blue and green triangles.\u00a0 The test case was carefully contrived to prevent the result from merging together, though that could certainly happen.\nThe algorithm implemented for Minkowski sum in this tutorial is very simple.\u00a0 It is based on the convolution of polygon edges.\u00a0 The convolution of two edges is very easy to compute and is in general a parallelogram.\u00a0 An example of two edges being convolved to produce a parallelogram is shown below.\n![](images/convolve_edges.PNG)\nNow that we know what we need from a function to convolve two edges, let's implement one now.\u00a0 Below we show the code for convolving two edges along with some type definitions we will be using throughout the tutorial.\u00a0 The code for this tutorial is available in[minkowski.cpp](tutorial/minkowski.cpp).\ntypedef boost::polygon::point\\_data&lt;&lt;int&gt;&gt; point;\ntypedef boost::polygon::polygon\\_set\\_data&lt;&lt;int&gt;&gt; polygon\\_set;\ntypedef boost::polygon::polygon\\_with\\_holes\\_data&lt;&lt;int&gt;&gt; polygon;\ntypedef std::pair&lt;point, point&gt; edge;\nusing namespace boost::polygon::operators;\nvoid convolve\\_two\\_segments(std::vector&lt;&lt;point&gt;&gt;&amp;&amp; figure, const edge&amp;&amp; a, const edge&amp;&amp; b) {\nusing namespace boost::polygon;\nfigure.clear();\nfigure.push\\_back(point(a.first));\nfigure.push\\_back(point(a.first));\nfigure.push\\_back(point(a.second));\nfigure.push\\_back(point(a.second));\nconvolve(figure[0], b.second);\nconvolve(figure[1], b.first);\nconvolve(figure[2], b.first);\nconvolve(figure[3], b.second);\n}\nThis function for convolving two line segments just convolves the end points of the two line segments in all combinations to produce the four points of a parallelogram and populates a vector of points with them in the correct order.\u00a0 We are using the Boost.Polygon library function for convolving two points and the library point data structure.\nTo compute the convolution of two polygon sets we start by taking the union of the convolution of all pairs of edges between the two polygon sets.\u00a0 Given an operation for convolving two edges it is pretty easy to convolve all pairs of edges of two polygon sets.\u00a0 The result is the convolution the perimeters of the polygon sets, but doesn't handle the convolution of their interiors.\u00a0 To illustrate this we show what happens when one of the above examples is computed using just the all pairs of edges convolution.\n![](images/perimeter_convolve.PNG)\nAs we can see, the result is as if the small triangles were slid around the perimeter of the large triangles leaving a hole in the center that should be filled in if the small triangle were allowed to slide freely within the large triangle.\u00a0 Also available in Boost.Polygon is theconvolvefunction for[polygon\\_concept](gtl_polygon_concept.htm)that convolves a polygon over a point.\u00a0 All this does is translate the polygon by the x and y value of the point.\u00a0 To fill in the interior regions of the result of the convolution of two polygon sets we perform an all pairs of polygon convolution to the first vertex of the other polygon and merge that into the union of edge convolutions.\nLet's implement the rest of Minkowski sum of two polygon sets as the union of all pairs edges convolutions and the all pairs of polygons to point convolutions.\u00a0 First we implement a function that convolves all pairs of edges represented by iterator pairs over points.\u00a0 We assume that the first point is equal to the last point in each sequence because we know the polygons that gave rise to the iterators were produce by the Boost.Polygon algorithm for general polygon formation.\ntemplate &lt;typename itrT1, typename itrT2&gt;\nvoid convolve\\_two\\_point\\_sequences(polygon\\_set&amp;&amp; result, itrT1 ab, itrT1 ae, itrT2 bb, itrT2 be) {\nusing namespace boost::polygon;\nif(ab == ae || bb == be)\nreturn;\npoint prev\\_a = \\*ab;\nstd::vector&lt;point&gt; vec;\npolygon poly;\n++ab;\nfor( ; ab != ae; ++ab) {\npoint prev\\_b = \\*bb;\nitrT2 tmpb = bb;\n++tmpb;\nfor( ; tmpb != be; ++tmpb) {\nconvolve\\_two\\_segments(vec, std::make\\_pair(prev\\_b, \\*tmpb), std::make\\_pair(prev\\_a, \\*ab));\nset\\_points(poly, vec.begin(), vec.end());\nresult.insert(poly);\nprev\\_b = \\*tmpb;\n}\nprev\\_a = \\*ab;\n}\n}\nUsing the function defined above we can implement a function for computing the convolution of all pairs of edges represented by an iterator pair over points and edges in a collection of polygons.\u00a0 We just call the convolve\\_two\\_point\\_sequences for the input point sequence and all outer shell and hole point sequences from the container of polygons.\ntemplate &lt;typename itrT&gt;\nvoid convolve\\_point\\_sequence\\_with\\_polygons(polygon\\_set&amp;&amp; result, itrT b, itrT e, const std::vector&lt;&lt;polygon&gt;&gt;&amp;&amp; polygons) {\nusing namespace boost::polygon;\nfor(std::size\\_t i = 0; i &lt;&lt; polygons.size(); ++i) {\nconvolve\\_two\\_point\\_sequences(result, b, e, begin\\_points(polygons[i]), end\\_points(polygons[i]));\nfor(polygon\\_with\\_holes\\_traits&lt;&lt;polygon&gt;&gt;::iterator\\_holes\\_type itrh = begin\\_holes(polygons[i]);\nitrh != end\\_holes(polygons[i]); ++itrh) {\nconvolve\\_two\\_point\\_sequences(result, b, e, begin\\_points(\\*itrh), end\\_points(\\*itrh));\n}\n}\n}\nUsing the function defined above we can implement a function for computing the convolution of all pairs of edges from polygons contained within two polygon sets.\u00a0 We also convolve each polygon with the first vertex of every polygon from the other set to fill in the interiors of the result.\nvoid convolve\\_two\\_polygon\\_sets(polygon\\_set&amp;&amp; result, const polygon\\_set&amp;&amp; a, const polygon\\_set&amp;&amp; b) {\nusing namespace boost::polygon;\nresult.clear();\nstd::vector&lt;&lt;polygon&gt;&gt; a\\_polygons;\nstd::vector&lt;&lt;polygon&gt;&gt...",
      "url": "https://www.boost.org/doc/libs/latest/libs/polygon/doc/gtl_minkowski_tutorial.htm"
    },
    {
      "title": "Visualising the Minkowski sum of two triangles - Math Stack Exchange",
      "text": "**Teams**\n\nQ&A for work\n\nConnect and share knowledge within a single location that is structured and easy to search.\n\n[Learn more about Teams](https://stackoverflow.co/teams/)\n\n# [Visualising the Minkowski sum of two triangles](https://math.stackexchange.com/questions/3959471/visualising-the-minkowski-sum-of-two-triangles)\n\n[Ask Question](https://math.stackexchange.com/questions/ask)\n\nAsked3 years, 5 months ago\n\nModified [1 year, 8 months ago](https://math.stackexchange.com/questions/3959471/visualising-the-minkowski-sum-of-two-triangles?lastactivity)\n\nViewed\n784 times\n\n3\n\n$\\\\begingroup$\n\nConsider the figure given below. I am told that the Minkowski sum of the two triangles $A,B \\\\subset \\\\mathbb{R}^2$ is the regular hexagon, as shown right next to them.\n\n> The Minkowski sum is defined as $$A+ B = \\\\{a+b: a\\\\in A, b\\\\in B\\\\}$$\n\nNote that $A$ and $B$ are such that $A$ is the reflection of $B$ about the origin (and vice versa). So, _knowing that the sum is a regular hexagon_, I can somewhat make sense of it, but I'm not really _able to see why_ it is a regular hexagon in the first place! Is there an **intuitive** way of looking at this? Finding $A+ B = \\\\{a+b: a\\\\in A, b\\\\in B\\\\}$ manually using every $a\\\\in A, b\\\\in B$ is obviously impossible, so there must be **some special** $a\\_1,a\\_2,...,a\\_p \\\\in A$ and $b\\_1, b\\_2,...,b\\_q \\\\in B$ we should use to construct the figure (extreme cases of some sort). Which ones are these?\n\n[![enter image description here](https://i.sstatic.net/yAvko.png)](https://i.sstatic.net/yAvko.png)\n\nAs an addendum, I am wondering if there is some **general intuition** (at least in $\\\\mathbb{R}$,$\\\\mathbb{R}^2$, and $\\\\mathbb{R}^3$) I can carry with me, when finding the Minkowski sum of two figures (sets)?\n\nP.S.\n\nI am not looking for algorithms to find Minkowski sums.\n\n- [geometry](https://math.stackexchange.com/questions/tagged/geometry)\n- [convex-geometry](https://math.stackexchange.com/questions/tagged/convex-geometry)\n\n[Share](https://math.stackexchange.com/q/3959471)\n\nCite\n\nFollow\n\n[edited Oct 1, 2022 at 13:35](https://math.stackexchange.com/posts/3959471/revisions)\n\nstoic-santiago\n\nasked Dec 23, 2020 at 13:08\n\n[![stoic-santiago's user avatar](https://i.sstatic.net/kyLdh.jpg?s=64)](https://math.stackexchange.com/users/425395/stoic-santiago)\n\n[stoic-santiago](https://math.stackexchange.com/users/425395/stoic-santiago) stoic-santiago\n\n14.1k44 gold badges1919 silver badges5959 bronze badges\n\n$\\\\endgroup$\n\n1\n\n- $\\\\begingroup$Cut them out from paper. Pick the bottom left corner of the second triangle and traverse with it over the whole of the first triangle. What sort of figure gets covered by all of the copies of the second triangle as its bottom left corner moves across the first triangle?$\\\\endgroup$\n\n\u2013\u00a0user700480\n\nCommentedDec 23, 2020 at 13:26\n\n\n[Add a comment](https://math.stackexchange.com/questions/3959471/visualising-the-minkowski-sum-of-two-triangles)\u00a0\\|\n\n## 1 Answer 1\n\nSorted by:\n[Reset to default](https://math.stackexchange.com/questions/3959471/visualising-the-minkowski-sum-of-two-triangles?answertab=scoredesc#tab-top)\n\nHighest score (default)Date modified (newest first)Date created (oldest first)\n\n7\n\n$\\\\begingroup$\n\nHere is a GIF I made that might help you visualize the Minkowski sum; the animation shows translates of the downward-facing triangle by points on the upward-facing triangle as they cycle around the perimeter, and how those translates fit onto the hexagon.\n\n[![enter image description here](https://i.sstatic.net/cTzCZ.gif)](https://i.sstatic.net/cTzCZ.gif)\n\nOf course, the Minkowski sum also includes translates of the downward-facing triangle by interior points of the other triangle, so this picture is not quite complete - if the second triangle were larger, the red triangles in the animation would only trace out the outer part of the resulting hexagon.\n\nIn your notation, we're looking at translates of $a$ in the boundary of $A$ by $b$ in the boundary of $B$, where each frame shows a single value of $b$. When the shapes are convex, the Minkowski sum is given by taking the convex hull of these \"extreme\" sums. In fact, in the case of convex polygons (or polyhedra, in the 3-dimensional case), it suffices to take just the vertices of $A$ and $B$.\n\n[Share](https://math.stackexchange.com/a/3959964)\n\nCite\n\nFollow\n\nanswered Dec 23, 2020 at 22:02\n\n[![RavenclawPrefect's user avatar](https://www.gravatar.com/avatar/e61a44c9b1ea63a62a00c680a9acbdcc?s=64&d=identicon&r=PG)](https://math.stackexchange.com/users/214490/ravenclawprefect)\n\n[RavenclawPrefect](https://math.stackexchange.com/users/214490/ravenclawprefect) RavenclawPrefect\n\n17.6k33 gold badges3333 silver badges105105 bronze badges\n\n$\\\\endgroup$\n\n2\n\n- 1\n\n\n\n\n\n$\\\\begingroup$So cool! I understand it now. Just curious, what software did you use for the GIF?$\\\\endgroup$\n\n\u2013\u00a0[stoic-santiago](https://math.stackexchange.com/users/425395/stoic-santiago)\n\nCommentedDec 24, 2020 at 3:20\n\n- 1\n\n\n\n\n\n$\\\\begingroup$Thanks! I used the [ImageDraw module](https://pillow.readthedocs.io/en/stable/reference/ImageDraw.html) in Python to render each frame. To combine them into a GIF, I used something similar to [this answer](https://stackoverflow.com/questions/41228209/making-gif-from-images-using-imageio-in-python) on Stack Overflow.$\\\\endgroup$\n\n\u2013\u00a0[RavenclawPrefect](https://math.stackexchange.com/users/214490/ravenclawprefect)\n\nCommentedDec 24, 2020 at 3:23\n\n\n[Add a comment](https://math.stackexchange.com/questions/3959471/visualising-the-minkowski-sum-of-two-triangles)\u00a0\\|\n\n## You must [log in](https://math.stackexchange.com/users/login?ssrc=question_page&returnurl=https%3a%2f%2fmath.stackexchange.com%2fquestions%2f3959471) to answer this question.\n\n## Not the answer you're looking for? Browse other questions tagged  - [geometry](https://math.stackexchange.com/questions/tagged/geometry) - [convex-geometry](https://math.stackexchange.com/questions/tagged/convex-geometry)   .\n\n- Featured on Meta\n- [Upcoming sign-up experiments related to tags](https://meta.stackexchange.com/questions/400648/upcoming-sign-up-experiments-related-to-tags)\n\n\n#### Related\n\n[9](https://math.stackexchange.com/q/48591) [Is there such a thing as the \"edge-face dual\" of a polyhedron, and is the \"edge-face dual\" of a cube a rhombic dodecahedron?](https://math.stackexchange.com/questions/48591/is-there-such-a-thing-as-the-edge-face-dual-of-a-polyhedron-and-is-the-edge)\n\n[2](https://math.stackexchange.com/q/1281406) [Recursive Hexagon Problem to find number of hexagons at each stage](https://math.stackexchange.com/questions/1281406/recursive-hexagon-problem-to-find-number-of-hexagons-at-each-stage)\n\n[0](https://math.stackexchange.com/q/3389784) [Triangle from point given grid coordinates](https://math.stackexchange.com/questions/3389784/triangle-from-point-given-grid-coordinates)\n\n[12](https://math.stackexchange.com/q/3526423) [How many different figures can be formed with a regular polygon of $n$ vertices and a number $d$ of diagonals of this polygon?](https://math.stackexchange.com/questions/3526423/how-many-different-figures-can-be-formed-with-a-regular-polygon-of-n-vertices)\n\n[4](https://math.stackexchange.com/q/4516472) [Is there a unicursal octagram?](https://math.stackexchange.com/questions/4516472/is-there-a-unicursal-octagram)\n\n[2](https://math.stackexchange.com/q/4536978) [Visualizing the Minkowski sum A + (-B)](https://math.stackexchange.com/questions/4536978/visualizing-the-minkowski-sum-a-b)\n\n[2](https://math.stackexchange.com/q/4857572) [Given a circle, construct three circles tangent to it and tangent to each other](https://math.stackexchange.com/questions/4857572/given-a-circle-construct-three-circles-tangent-to-it-and-tangent-to-each-other)\n\n#### [Hot Network Questions](https://stackexchange.com/questions?tab=hot)\n\n- [What was God's original plan for humanity prior to the fall?](https://christianity.stackexchange.com/questions/102096/what-was-gods-original-plan-for-humanity-prior-to-the-fall)\n- [...",
      "url": "https://math.stackexchange.com/questions/3959471/visualising-the-minkowski-sum-of-two-triangles"
    },
    {
      "title": "[PDF] Shapely Documentation",
      "text": "Shapely Documentation\nRelease 2.0.6\nSean Gillies\nJan 31, 2025\n\nUSER GUIDE\n1 What is a ufunc? 3\n2 Multithreading 5\n2.1 Usage . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5\n2.2 Requirements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5\n2.3 Installing Shapely . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6\n2.4 Integration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6\n2.5 Support . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6\n2.6 Copyright & License . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6\n2.7 Credits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 6\n2.8 Frequently asked questions and answers . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\n3 I installed shapely in a conda environment using pip. Why doesn\u2019t it work? 11\n4 Are there references for the algorithms used by shapely? 13\n5 I used .buffer() on a geometry with Z coordinates. Where did the Z coordinates go? 15\n5.1 Installation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15\n5.2 The Shapely User Manual . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n5.3 Migrating to Shapely 1.8 / 2.0 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 66\n5.4 Migrating from PyGEOS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71\n5.5 Release notes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 73\n5.6 Geometry . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 97\n5.7 Geometry properties . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 166\n5.8 Geometry creation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 183\n5.9 Input/Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 192\n5.10 Measurement . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 199\n5.11 Predicates . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 206\n5.12 Set operations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 229\n5.13 Constructive operations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 239\n5.14 Linestring operations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 260\n5.15 Coordinate operations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 264\n5.16 STRTree . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 267\n5.17 Testing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 273\n5.18 Indices and tables . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 274\nBibliography 275\nPython Module Index 277\nIndex 279\ni\nii\nShapely Documentation, Release 2.0.6\nManipulation and analysis of geometric objects in the Cartesian plane.\nShapely is a BSD-licensed Python package for manipulation and analysis of planar geometric objects. It is using\nthe widely deployed open-source geometry library GEOS (the engine of PostGIS, and a port of JTS). Shapely wraps\nGEOS geometries and operations to provide both a feature rich Geometry interface for singular (scalar) geometries and\nhigher-performance NumPy ufuncs for operations using arrays of geometries. Shapely is not primarily focused on data\nserialization formats or coordinate systems, but can be readily integrated with packages that are.\nUSER GUIDE 1\nShapely Documentation, Release 2.0.6\n2 USER GUIDE\nCHAPTER\nONE\nWHAT IS A UFUNC?\nA universal function (or ufunc for short) is a function that operates on n-dimensional arrays on an element-by-element\nfashion and supports array broadcasting. The underlying for loops are implemented in C to reduce the overhead of the\nPython interpreter.\n3\nShapely Documentation, Release 2.0.6\n4 Chapter 1. What is a ufunc?\nCHAPTER\nTWO\nMULTITHREADING\nShapely functions generally support multithreading by releasing the Global Interpreter Lock (GIL) during execution.\nNormally in Python, the GIL prevents multiple threads from computing at the same time. Shapely functions internally\nrelease this constraint so that the heavy lifting done by GEOS can be done in parallel, from a single Python process.\n2.1 Usage\nHere is the canonical example of building an approximately circular patch by buffering a point, using the scalar Geom\u0002etry interface:\n>>> from shapely import Point\n>>> patch = Point(0.0, 0.0).buffer(10.0)\n>>> patch\n<POLYGON ((10 0, 9.952 -0.98, 9.808 -1.951, 9.569 -2.903, 9.239 -3.827, 8.81...>\n>>> patch.area\n313.6548490545941\nUsing the vectorized ufunc interface (instead of using a manual for loop), compare an array of points with a polygon:\n>>> import shapely\n>>> import numpy as np\n>>> geoms = np.array([Point(0, 0), Point(1, 1), Point(2, 2)])\n>>> polygon = shapely.box(0, 0, 2, 2)\n>>> shapely.contains(polygon, geoms)\narray([False, True, False])\nSee the documentation for more examples and guidance: https://shapely.readthedocs.io\n2.2 Requirements\nShapely 2.0 requires\n\u2022 Python >=3.7\n\u2022 GEOS >=3.5\n\u2022 NumPy >=1.14\n5\nShapely Documentation, Release 2.0.6\n2.3 Installing Shapely\nWe recommend installing Shapely using one of the available built distributions, for example using pip or conda:\n$ pip install shapely\n# or using conda\n$ conda install shapely --channel conda-forge\nSee the installation documentation for more details and advanced installation instructions.\n2.4 Integration\nShapely does not read or write data files, but it can serialize and deserialize using several well known formats and\nprotocols. The shapely.wkb and shapely.wkt modules provide dumpers and loaders inspired by Python\u2019s pickle module.\n>>> from shapely.wkt import dumps, loads\n>>> dumps(loads('POINT (0 0)'))\n'POINT (0.0000000000000000 0.0000000000000000)'\nShapely can also integrate with other Python GIS packages using GeoJSON-like dicts.\n>>> import json\n>>> from shapely.geometry import mapping, shape\n>>> s = shape(json.loads('{\"type\": \"Point\", \"coordinates\": [0.0, 0.0]}'))\n>>> s\n<POINT (0 0)>\n>>> print(json.dumps(mapping(s)))\n{\"type\": \"Point\", \"coordinates\": [0.0, 0.0]}\n2.5 Support\nQuestions about using Shapely may be asked on the GIS StackExchange using the \u201cshapely\u201d tag.\nBugs may be reported at https://github.com/shapely/shapely/issues.\n2.6 Copyright & License\nShapely is licensed under BSD 3-Clause license. GEOS is available under the terms of GNU Lesser General Public\nLicense (LGPL) 2.1 at https://libgeos.org.\n2.7 Credits\nShapely is written by:\n\u2022 Adi Shavit <adishavit@gmail.com>\n\u2022 Alan D. Snow <alansnow21@gmail.com>\n\u2022 Alberto Rubiales <arubiales11@gmail.com>\n\u2022 Allan Adair <allan.m.adair@gmail.com>\n\u2022 Andrew Blakey <ablakey@gmail.com>\n\u2022 Andy Freeland <andy@andyfreeland.net>\n6 Chapter 2. Multithreading\nShapely Documentation, Release 2.0.6\n\u2022 Ariel Kadouri <ariel@arielsartistry.com>\n\u2022 Aron Bierbaum <aronbierbaum@gmail.com>\n\u2022 Bart Broere <2715782+bartbroere@users.noreply.github.com>\n\u2022 Bas Couwenberg <sebastic@xs4all.nl>\n\u2022 Ben Beasley <code@musicinmybrain.net>\n\u2022 Benjamin Root <ben.v.root@gmail.com>\n\u2022 BertrandGervais <bertrand.gervais.pro@gmail.com>\n\u2022 Bhavika Tekwani <4955119+bhavika@users.noreply.github.com>\n\u2022 Bi0T1N <Bi0T1N@users.noreply.github.com>\n\u2022 Brad Hards <bradh@frogmouth.net>\n\u2022 Brendan Ward <bcward@astutespruce.com>\n\u2022 Brandon Wood <btwood@geometeor.com>\n\u2022 Casper van der Wel <caspervdw@gmail.com>\n\u2022 Chad Hawkins <cwh@chadwhawkins.com>\n\u2022 C...",
      "url": "https://shapely.readthedocs.io/_/downloads/en/2.0.7/pdf"
    },
    {
      "title": "Shapely \u2014 Shapely 2.1.2 documentation",
      "text": "Shapely &#8212; Shapely 2.1.2 documentation\n[Skip to main content](#main-content)\n**Back to top\n**Ctrl+K\n[\nShapely 2.1.2 documentation\n](#)\n**\n* [**.rst](_sources/index.rst)\n* **.pdf\n**\n# Shapely\n## Contents\n# Shapely[#](#shapely)\n[![Documentation Status](https://readthedocs.org/projects/shapely/badge/?version=stable)](https://shapely.readthedocs.io/en/stable/)[![PyPI](https://img.shields.io/pypi/v/shapely.svg)](https://pypi.org/project/shapely/)[![Anaconda](https://img.shields.io/conda/vn/conda-forge/shapely)](https://anaconda.org/conda-forge/shapely)\nManipulation and analysis of geometric objects in the Cartesian plane.\n[![https://c2.staticflickr.com/6/5560/31301790086_b3472ea4e9_c.jpg](https://c2.staticflickr.com/6/5560/31301790086_b3472ea4e9_c.jpg)](https://c2.staticflickr.com/6/5560/31301790086_b3472ea4e9_c.jpg)\nShapely is a BSD-licensed Python package for manipulation and analysis of\nplanar geometric objects. It is using the widely deployed open-source\ngeometry library[GEOS](https://libgeos.org/)(the engine of[PostGIS](https://postgis.net/), and a port of[JTS](https://locationtech.github.io/jts/)).\nShapely wraps GEOS geometries and operations to provide both a feature rich> Geometry\ninterface for singular (scalar) geometries and higher-performance\nNumPy ufuncs for operations using arrays of geometries.\nShapely is not primarily focused on data serialization formats or coordinate\nsystems, but can be readily integrated with packages that are.\n## What is a ufunc?[#](#what-is-a-ufunc)\nA universal function (or ufunc for short) is a function that operates on*n*-dimensional arrays on an element-by-element fashion and supports array\nbroadcasting. The underlying`for`loops are implemented in C to reduce the\noverhead of the Python interpreter.\n## Multithreading[#](#multithreading)\nShapely functions generally support multithreading by releasing the Global\nInterpreter Lock (GIL) during execution. Normally in Python, the GIL prevents\nmultiple threads from computing at the same time. Shapely functions\ninternally release this constraint so that the heavy lifting done by GEOS can\nbe done in parallel, from a single Python process.\n### Usage[#](#usage)\nHere is the canonical example of building an approximately circular patch by\nbuffering a point, using the scalar Geometry interface:\n```\n&gt;&gt;&gt;fromshapelyimportPoint&gt;&gt;&gt;patch=Point(0.0,0.0).buffer(10.0)&gt;&gt;&gt;patch&lt;POLYGON ((10 0, 9.952 -0.98, 9.808 -1.951, 9.569 -2.903, 9.239 -3.827, 8.81...&gt;&gt;&gt;&gt;patch.area313.6548490545941\n```\nUsing the vectorized ufunc interface (instead of using a manual for loop),\ncompare an array of points with a polygon:\n```\n&gt;&gt;&gt;importshapely&gt;&gt;&gt;importnumpyasnp&gt;&gt;&gt;geoms=np.array([Point(0,0),Point(1,1),Point(2,2)])&gt;&gt;&gt;polygon=shapely.box(0,0,2,2)&gt;&gt;&gt;shapely.contains(polygon,geoms)array([False, True, False])\n```\nSee the documentation for more examples and guidance:[https://shapely.readthedocs.io](https://shapely.readthedocs.io)\n### Requirements[#](#requirements)\nShapely 2.1 requires\n* Python &gt;=3.10\n* GEOS &gt;=3.9\n* NumPy &gt;=1.21\n### Installing Shapely[#](#installing-shapely)\nWe recommend installing Shapely using one of the available built\ndistributions, for example using`pip`or`conda`:\n```\n$pipinstallshapely#orusingconda$condainstallshapely--channelconda-forge\n```\nSee the[installation documentation](https://shapely.readthedocs.io/en/latest/installation.html)for more details and advanced installation instructions.\n### Integration[#](#integration)\nShapely does not read or write data files, but it can serialize and deserialize\nusing several well known formats and protocols. The shapely.wkb and shapely.wkt\nmodules provide dumpers and loaders inspired by Python\u2019s pickle module.\n```\n&gt;&gt;&gt;fromshapely.wktimportdumps,loads&gt;&gt;&gt;dumps(loads(&#39;POINT (0 0)&#39;))&#39;POINT (0.0000000000000000 0.0000000000000000)&#39;\n```\nShapely can also integrate with other Python GIS packages using GeoJSON-like\ndicts.\n```\n&gt;&gt;&gt;importjson&gt;&gt;&gt;fromshapely.geometryimportmapping,shape&gt;&gt;&gt;s=shape(json.loads(&#39;{&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [0.0, 0.0]}&#39;))&gt;&gt;&gt;s&lt;POINT (0 0)&gt;&gt;&gt;&gt;print(json.dumps(mapping(s))){&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [0.0, 0.0]}\n```\n### Support[#](#support)\nQuestions about using Shapely may be asked on the[GIS StackExchange](https://gis.stackexchange.com/questions/tagged/shapely)using the \u201cshapely\u201d\ntag.\nBugs may be reported at[shapely/shapely#issues](https://github.com/shapely/shapely/issues).\n### Copyright &amp; License[#](#copyright-license)\nShapely is licensed under BSD 3-Clause license.\nGEOS is available under the terms of GNU Lesser General Public License (LGPL) 2.1 at[https://libgeos.org](https://libgeos.org).\n### Credits[#](#credits)\nShapely is written by:\n* Adi Shavit &lt;[adishavit&#64;gmail&#46;com](mailto:adishavit&#37;&#52;&#48;gmail&#46;com)&gt;\n* Alan D. Snow &lt;[alansnow21&#64;gmail&#46;com](mailto:alansnow21&#37;&#52;&#48;gmail&#46;com)&gt;\n* Alberto Rubiales &lt;[arubiales11&#64;gmail&#46;com](mailto:arubiales11&#37;&#52;&#48;gmail&#46;com)&gt;\n* Allan Adair &lt;[allan&#46;m&#46;adair&#64;gmail&#46;com](mailto:allan&#46;m&#46;adair&#37;&#52;&#48;gmail&#46;com)&gt;\n* Andrew Blakey &lt;[ablakey&#64;gmail&#46;com](mailto:ablakey&#37;&#52;&#48;gmail&#46;com)&gt;\n* Andy Freeland &lt;[andy&#64;andyfreeland&#46;net](mailto:andy&#37;&#52;&#48;andyfreeland&#46;net)&gt;\n* Ariel Kadouri &lt;[ariel&#64;arielsartistry&#46;com](mailto:ariel&#37;&#52;&#48;arielsartistry&#46;com)&gt;\n* Aron Bierbaum &lt;[aronbierbaum&#64;gmail&#46;com](mailto:aronbierbaum&#37;&#52;&#48;gmail&#46;com)&gt;\n* Bart Broere &lt;[2715782+bartbroere&#64;users&#46;noreply&#46;github&#46;com](mailto:2715782+bartbroere&#37;&#52;&#48;users&#46;noreply&#46;github&#46;com)&gt;\n* Bas Couwenberg &lt;[sebastic&#64;xs4all&#46;nl](mailto:sebastic&#37;&#52;&#48;xs4all&#46;nl)&gt;\n* Ben Beasley &lt;[code&#64;musicinmybrain&#46;net](mailto:code&#37;&#52;&#48;musicinmybrain&#46;net)&gt;\n* Benjamin Root &lt;[ben&#46;v&#46;root&#64;gmail&#46;com](mailto:ben&#46;v&#46;root&#37;&#52;&#48;gmail&#46;com)&gt;\n* BertrandGervais &lt;[bertrand&#46;gervais&#46;pro&#64;gmail&#46;com](mailto:bertrand&#46;gervais&#46;pro&#37;&#52;&#48;gmail&#46;com)&gt;\n* Bhavika Tekwani &lt;[4955119+bhavika&#64;users&#46;noreply&#46;github&#46;com](mailto:4955119+bhavika&#37;&#52;&#48;users&#46;noreply&#46;github&#46;com)&gt;\n* Bi0T1N &lt;[Bi0T1N&#64;users&#46;noreply&#46;github&#46;com](mailto:Bi0T1N&#37;&#52;&#48;users&#46;noreply&#46;github&#46;com)&gt;\n* Brad Hards &lt;[bradh&#64;frogmouth&#46;net](mailto:bradh&#37;&#52;&#48;frogmouth&#46;net)&gt;\n* Brendan Ward &lt;[bcward&#64;astutespruce&#46;com](mailto:bcward&#37;&#52;&#48;astutespruce&#46;com)&gt;\n* Brandon Wood &lt;[btwood&#64;geometeor&#46;com](mailto:btwood&#37;&#52;&#48;geometeor&#46;com)&gt;\n* Casper van der Wel &lt;[caspervdw&#64;gmail&#46;com](mailto:caspervdw&#37;&#52;&#48;gmail&#46;com)&gt;\n* Chad Hawkins &lt;[cwh&#64;chadwhawkins&#46;com](mailto:cwh&#37;&#52;&#48;chadwhawkins&#46;com)&gt;\n* Christian Prior &lt;[cprior&#64;gmail&#46;com](mailto:cprior&#37;&#52;&#48;gmail&#46;com)&gt;\n* Christian Quest &lt;[github&#64;cquest&#46;org](mailto:github&#37;&#52;&#48;cquest&#46;org)&gt;\n* Christophe Pradal &lt;[christophe&#46;pradal&#64;inria&#46;fr](mailto:christophe&#46;pradal&#37;&#52;&#48;inria&#46;fr)&gt;\n* Dan Baston &lt;[dbaston&#64;gmail&#46;com](mailto:dbaston&#37;&#52;&#48;gmail&#46;com)&gt;\n* Dan Mahr &lt;[danmahr23&#64;gmail&#46;com](mailto:danmahr23&#37;&#52;&#48;gmail&#46;com)&gt;\n* Daniele Esposti &lt;[expobrain&#64;users&#46;noreply&#46;github&#46;com](mailto:expobrain&#37;&#52;&#48;users&#46;noreply&#46;github&#46;com)&gt;\n* Dave Collins &lt;[dave&#64;hopest&#46;net](mailto:dave&#37;&#52;&#48;hopest&#46;net)&gt;\n* David Baumgold &lt;[david&#64;davidbaumgold&#46;com](mailto:david&#37;&#52;&#4...",
      "url": "https://shapely.readthedocs.io/en/stable/index.html"
    }
  ]
}