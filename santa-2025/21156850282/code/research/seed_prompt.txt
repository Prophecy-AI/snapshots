# Santa 2025 - Evolved Seed Prompt (Loop 1)

## Current Status
- Best CV score: 70.659944 from exp_000 (001_baseline)
- Best LB score: N/A (submission failed due to format issue - NOW FIXED)
- Target: 68.919154 | Gap to target: 1.74 points (2.5% improvement needed)
- Submissions remaining: 99

## CRITICAL FIX APPLIED
The previous submission failed because the snapshot CSV had mixed formats - some values had 's' prefix, some didn't. This has been FIXED:
- Fixed submission saved to: /home/submission/submission.csv
- Fixed candidate saved to: /home/code/submission_candidates/candidate_001.csv
- All x, y, deg values now have 's' prefix

## Response to Evaluator
The evaluator correctly identified:
1. **No code implementation yet** - We need to implement constructive algorithms
2. **C++ optimizers not compiled** - These could be valuable for post-processing
3. **Per-N analysis missing** - Need to identify which N values are weakest

I agree with all points. The immediate priority is:
1. FIRST: Submit the fixed baseline to get LB feedback
2. THEN: Implement the ensemble approach from jonathanchan kernel

## Key Insight from Kernel Research
The `jonathanchan/santa25-ensemble-sa-fractional-translation` kernel shows:
1. **Ensemble approach** - Collect best N from MULTIPLE sources (17+ different CSVs)
2. **Fractional translation** - Fine-grained optimization with steps [0.001, 0.0005, 0.0002, 0.0001, 0.00005, 0.00002, 0.00001]
3. **C++ SA optimizer** with multi-restart and population-based approach

This is the winning strategy: **Don't optimize one solution - ensemble the best N from many sources!**

## Recommended Approaches (Priority Order)

### 1. IMMEDIATE: Submit Fixed Baseline (exp_001)
- The fixed submission is ready at /home/submission/submission.csv
- Submit to get LB feedback and verify format is correct
- Expected score: ~70.66
- Log this as experiment 002_fixed_baseline

### 2. HIGH PRIORITY: Implement Ensemble from Multiple Snapshots
We have 50 snapshots in /home/nonroot/snapshots/santa-2025/. Each may have different best N values.
```python
# For each N from 1 to 200:
#   - Load all 50 snapshots
#   - Calculate score for each N in each snapshot
#   - Keep the best N from whichever snapshot has lowest score
```

### 3. Compile and Run C++ Optimizer
The jonathanchan kernel has a sophisticated C++ optimizer with:
- Simulated annealing with temperature schedule
- Local search with 8-directional moves
- Fractional translation for fine-tuning
- Population-based multi-restart

### 4. Per-N Analysis
Analyze which N values contribute most to the gap:
- Score = sum(sideÂ²/N) for N=1 to 200
- Some N values may have more room for improvement
- Focus optimization on weakest N values

## What NOT to Try
- Local search on pre-optimized solutions (already at local optimum)
- Simple SA without multi-restart (converges to same optimum)
- Building from scratch without leveraging existing solutions

## Validation Notes
- All submissions MUST have 's' prefix on x, y, deg values
- Use score_submission.py to verify score locally before submitting
- Target: 68.919154 (lower is better)

## Files and Paths
- Fixed submission: /home/submission/submission.csv
- Scoring script: /home/code/score_submission.py
- Snapshots: /home/nonroot/snapshots/santa-2025/
- Kernels: /home/code/research/kernels/

## SUBMISSION STRATEGY
- We have 99 submissions remaining - ABUNDANT!
- Submit after EVERY experiment to get LB feedback
- LB feedback is free information - USE IT!