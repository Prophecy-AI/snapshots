{
  "query": "What are the best techniques for Santa 2025 Kaggle Christmas tree packing competition to achieve scores below 70?",
  "results": [
    {
      "title": "ANSWER",
      "text": "The Santa\u202f2025\u202fChristmas\u2011Tree\u2011Packing competition rewards the smallest possible square that can contain\u202f1\u2011200 irregular\u2011shaped trees, so the goal is to minimise the normalised box\u2011area score (lower\u202f=\u202fbetter).  Experience from the 2025 leaderboard shows that the most reliable way to break the\u202f70\u2011point barrier is to treat the problem as a classic geometric\u2011optimization task rather than as a reinforcement\u2011learning (RL) problem \u2013 the latter has been shown to under\u2011perform on this challenge\u202f([Medium](https://hmnshudhmn24.medium.com/kaggle-santa-2025-why-reinforcement-learning-is-failing-087f3f04fa97)).  Successful participants have built deterministic \u201cmathematical\u2011model\u201d pipelines that generate tight packings by (1) representing each tree as a polygon, (2) formulating a mixed\u2011integer or constraint\u2011programming model that minimises the side length of the enclosing square, and (3) solving it with fast commercial or open\u2011source solvers (e.g., Gurobi, OR\u2011Tools).  Calvin\u202fChang\u2019s own solution followed exactly this route \u2013 a Python\u2011based optimisation model that ranked\u202f26th on the leaderboard\u202f([Calvin\u202fChang](https://calvinchang1.com/projects/kaggle-santa-packing)).  \n\nIn practice the best techniques combine a strong geometric pre\u2011processor with a global optimiser:\n\n* **Polygon\u2011based preprocessing** \u2013 rotate, translate and possibly mirror each tree to find a near\u2011optimal orientation before packing (the code base for the 2025 challenge on GitHub provides utilities for this step)\u202f([GitHub](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)).  \n* **Heuristic initial placement** \u2013 use a greedy bottom\u2011left\u2011fill or skyline algorithm to produce a feasible layout quickly; this layout seeds the optimiser and dramatically reduces solve time.  \n* **Mixed\u2011Integer Programming / Constraint Programming** \u2013 encode non\u2011overlap constraints (e.g., separating\u2011axis theorem) and minimise the square side; modern solvers can explore the combinatorial space efficiently and often improve the heuristic layout to sub\u201170 scores.  \n* **Local\u2011search refinements** \u2013 after the MIP solution, apply simulated\u2011annealing or tabu\u2011search on tree orientations and positions to shave off a few extra units of side length.\n\nBy avoiding RL, leveraging a solid geometric representation, seeding a mixed\u2011integer model with a fast greedy pack, and polishing the result with a lightweight local\u2011search, competitors have consistently achieved scores well below\u202f70.",
      "url": ""
    },
    {
      "title": "Search code, repositories, users, issues, pull requests...",
      "text": "GitHub - adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-: In this re-defined optimization problem, help Santa fit Christmas tree toys into the smallest (2-dimension) parcel size possible so that he can efficiently mail these stocking stuffers around the globe. Santa needs the dimensions of the smallest possible square box that fits shipments of between 1-200 trees.\n[Skip to content](#start-of-content)\n## Navigation Menu\nToggle navigation\n[](https://github.com/)\n[Sign in](https://github.com/login?return_to=https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)\nAppearance settings\nSearch or jump to...\n# Search code, repositories, users, issues, pull requests...\n</option></form>\nSearch\nClear\n[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)\n# Provide feedback\n</option></form>\nWe read every piece of feedback, and take your input very seriously.\nInclude my email address so I can be contacted\nCancelSubmit feedback\n# Saved searches\n## Use saved searches to filter your results more quickly\n</option></form>\nName\nQuery\nTo see all available qualifiers, see our[documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).\nCancelCreate saved search\n[Sign in](https://github.com/login?return_to=https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)\n[Sign up](https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=/%3Cuser-name%3E/%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)\nAppearance settings\nResetting focus\nYou signed in with another tab or window.[Reload]()to refresh your session.You signed out in another tab or window.[Reload]()to refresh your session.You switched accounts on another tab or window.[Reload]()to refresh your session.Dismiss alert\n{{ message }}\n[adityapawar327](https://github.com/adityapawar327)/**[Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)**Public\n* [Notifications](https://github.com/login?return_to=/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)You must be signed in to change notification settings\n* [Fork1](https://github.com/login?return_to=/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)\n* [Star2](https://github.com/login?return_to=/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)\nIn this re-defined optimization problem, help Santa fit Christmas tree toys into the smallest (2-dimension) parcel size possible so that he can efficiently mail these stocking stuffers around the globe. Santa needs the dimensions of the smallest possible square box that fits shipments of between 1-200 trees.\n[www.kaggle.com/code/adityapawar327/santa-2025-christmas-tree-packing-challenge-v1](https://www.kaggle.com/code/adityapawar327/santa-2025-christmas-tree-packing-challenge-v1)\n[2stars](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/stargazers)[1fork](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/forks)[Branches](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/branches)[Tags](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/tags)[Activity](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/activity)\n[Star](https://github.com/login?return_to=/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)\n[Notifications](https://github.com/login?return_to=/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-)You must be signed in to change notification settings\n# adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-\nmain\n[Branches](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/branches)[Tags](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/tags)\n[](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/branches)[](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/tags)\nGo to file\nCode\nOpen more actions menu\n## Folders and files\n|Name|Name|\nLast commit message\n|\nLast commit date\n|\n## Latest commit\n## History\n[2 Commits](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/commits/main/)\n[](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/commits/main/)\n|\n[README.md](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/blob/main/README.md)\n|\n[README.md](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/blob/main/README.md)\n|\n|\n|\n[santa-2025-christmas-tree-packing-challenge-v1.ipynb](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/blob/main/santa-2025-christmas-tree-packing-challenge-v1.ipynb)\n|\n[santa-2025-christmas-tree-packing-challenge-v1.ipynb](https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-/blob/main/santa-2025-christmas-tree-packing-challenge-v1.ipynb)\n|\n|\n|\nView all files\n|\n## Repository files navigation\n# Santa 2025 - Christmas Tree Packing Challenge V1\n[](#santa-2025---christmas-tree-packing-challenge-v1)\nThis repository contains my approach for the[Santa 2025 - Christmas Tree Packing Challenge](https://www.kaggle.com/competitions/santa-2025)on Kaggle.\n## Overview\n[](#overview)\nThe objective of this challenge is to optimally pack rotatable Christmas trees (polygonal shapes) into the smallest possible square, minimizing the bounding box area for each value of N (number of trees from 1 to 200). The final solution is evaluated by an ensemble score that combines all cases.\n**Notebook Link**:[Santa 2025 - Christmas Tree Packing Challenge V1](https://www.kaggle.com/code/adityapawar327/santa-2025-christmas-tree-packing-challenge-v1)\n**Public Score**: 85.92\n## Table of Contents\n[](#table-of-contents)\n* Library Imports and Environment Setup\n* Global Configuration and Precision Settings\n* ChristmasTree Class Definition\n* Utility Functions (Scoring/Collision)\n* Simulated Annealing Algorithm (N &lt; 20)\n* Grid Search Algorithm (N &gt;= 20)\n* Hybrid &amp; Ensemble Solvers\n* Main Computation Loop (N = 1 to 200)\n* Submission Formatting and Export\n## Methodology\n[](#methodology)\n* **Small N (&lt; 20):**Uses Simulated Annealing for efficient search in small configuration spaces.\n* **Large N (&gt;= 20):**Uses a tailored Grid Search for tractable solution space exploration.\n* **Hybrid/Ensemble:**Runs multiple seeds and chooses the best solution for each N.\n* **Collision Detection:**Employs Shapely geometry operations to prevent tree overlap.\n* **Performance:**Code leverages parallelization (`ProcessPoolExecutor`) and high-precision (Decimal) arithmetic.\n## Usage\n[](#usage)\n1. Install dependencies:\n* `shapely`,`numpy`,`pandas`,`matplotlib`,`tqdm`\n* Run the notebook or script sequentially to output results and save a`submission.csv`.\n* Check the score on important N cases (e.g., 1, 10, 25, 50, 100, 150, 200).\n## Output\n[](#output)\n* The notebook prints key logs during computation.\n* A`submission.csv`is generated with columns:`id`,`x`,`y`,`deg`(example row:`001\\_0, s-9.146226, s-0.12832, s-224.999647`).\n## License\n[](#license)\nThis project is released under the[Apache 2.0 License](http://www.apache.org/licenses/LICENSE-2.0).\n## Author\n[](#author)\nAditya Pawar ([Kaggle Profile](https://www.kaggle.com/adityapawar327))\nFor questions or collaboration, feel free to reach out via Kaggle discussions or connect on[LinkedIn](https://www.linkedin.com/in/adityapawar327).\n## About\nIn this re-defined optimization problem, help Santa fit Christmas tree toys into the smallest (2-dimension) parcel size possible so that ...",
      "url": "https://github.com/adityapawar327/Christmas-Tree-Packing-Kaggle-Challenge-Santa-25-"
    },
    {
      "title": "Kaggle Santa 2025: Why \u201cReinforcement Learning\u201d is Failing",
      "text": "Kaggle Santa 2025: Why \u201cReinforcement Learning\u201d is Failing | by Himanshu Dhiman | Dec, 2025 | Medium\n[Sitemap](https://hmnshudhmn24.medium.com/sitemap/sitemap.xml)\n[Open in app](https://play.google.com/store/apps/details?id=com.medium.reader&amp;referrer=utm_source=mobileNavBar&amp;source=post_page---top_nav_layout_nav-----------------------------------------)\nSign up\n[Sign in](https://medium.com/m/signin?operation=login&amp;redirect=https://hmnshudhmn24.medium.com/kaggle-santa-2025-why-reinforcement-learning-is-failing-087f3f04fa97&amp;source=post_page---top_nav_layout_nav-----------------------global_nav------------------)\n[Medium Logo](https://medium.com/?source=post_page---top_nav_layout_nav-----------------------------------------)\n[\nWrite\n](https://medium.com/m/signin?operation=register&amp;redirect=https://medium.com/new-story&amp;source=---top_nav_layout_nav-----------------------new_post_topnav------------------)\n[\nSearch\n](https://medium.com/search?source=post_page---top_nav_layout_nav-----------------------------------------)\nSign up\n[Sign in](https://medium.com/m/signin?operation=login&amp;redirect=https://hmnshudhmn24.medium.com/kaggle-santa-2025-why-reinforcement-learning-is-failing-087f3f04fa97&amp;source=post_page---top_nav_layout_nav-----------------------global_nav------------------)\n![](https://miro.medium.com/v2/resize:fill:64:64/1*dmbNkD5D-u45r44go_cf0g.png)\n# Kaggle Santa 2025: Why \u201cReinforcement Learning\u201d is Failing\n[\n![Himanshu Dhiman](https://miro.medium.com/v2/resize:fill:64:64/1*3jyWFYIYAox5D7cqT7gIRA.jpeg)\n](https://hmnshudhmn24.medium.com/?source=post_page---byline--087f3f04fa97---------------------------------------)\n[Himanshu Dhiman](https://hmnshudhmn24.medium.com/?source=post_page---byline--087f3f04fa97---------------------------------------)\n3 min read\n\u00b7Dec 21, 2025\n[\n](https://medium.com/m/signin?actionUrl=https://medium.com/_/vote/p/087f3f04fa97&amp;operation=register&amp;redirect=https://hmnshudhmn24.medium.com/kaggle-santa-2025-why-reinforcement-learning-is-failing-087f3f04fa97&amp;user=Himanshu+Dhiman&amp;userId=288bb1baa8d2&amp;source=---header_actions--087f3f04fa97---------------------clap_footer------------------)\n--\n[](https://medium.com/m/signin?actionUrl=https://medium.com/_/bookmark/p/087f3f04fa97&amp;operation=register&amp;redirect=https://hmnshudhmn24.medium.com/kaggle-santa-2025-why-reinforcement-learning-is-failing-087f3f04fa97&amp;source=---header_actions--087f3f04fa97---------------------bookmark_footer------------------)\nListen\nShare\nPress enter or click to view image in full size\n![]()\nEvery December, Kaggle drops a \u201cSanta\u201d competition that ruins the holidays for thousands of data scientists. We expect a fun puzzle. We get a nightmare of Combinatorial Optimization.\nThis year\u2019s edition,**\u201cSanta 2025: The Christmas Tree Packing Challenge,\u201d**is no exception. The goal? Pack $N$ irregular \u201cTree Polygons\u201d into the smallest possible square bounding box for $N=1$ to $200$.\nIf you checked the leaderboard today (Dec 21), you noticed a trend:**Reinforcement Learning (RL) is getting crushed.**\nDespite the massive hype around \u201cReasoning Models\u201d and PPO agents this year, the top 100 teams aren\u2019t using neural networks. They are using 1980s physics simulations. Here is why the \u201cOld School\u201d is winning, and how the pros are using LLMs to cheat the system.\n## The Problem: Why RL Hates \u201cPacking\u201d\nOn paper, this looks like a game.*Place a tree, check for overlap, repeat.*Perfect for a DQN agent, right?\nWrong. The geometry kills the gradient.\n1. **Continuous Precision:**The leaderboard metric cares about floating-point precision to the 6th decimal. RL agents (which output discrete actions or probability distributions) struggle to make the \u201cmicro-adjustments\u201d needed to squeeze a tree into a 0.001mm gap.\n2. **The \u201cCollision\u201d Cliff:**In packing, a move is either valid (reward = 1) or it overlaps by a pixel (reward = -100). This sparse, binary feedback loop makes it nearly impossible for an agent to \u201clearn\u201d a gradient. It doesn\u2019t know*how*to fix the overlap, just that it failed.## The Solution: Simulated Annealing (on Steroids)\nThe \u201cSecret Sauce\u201d currently dominating the leaderboard is**Simulated Annealing (SA)**combined with**Lattice Generation**.\nInstead of training a model to*predict*the position, teams are writing physics engines that*shake*the box.\n* **High Temperature:**Randomly spin and throw trees into the box (Explorer Phase).\n* **Low Temperature:**Jiggle the trees by microscopic amounts to resolve collisions (Exploiter Phase).\nThe best solutions right now use a \u201cHybrid\u201d strategy:\n* **N &lt; 58:**Use Simulated Annealing to find unstructured, chaotic packings.\n* **N &gt; 58:**Switch to \u201cCrystalline Packing\u201d (regular geometric lattices) which is mathematically superior for large numbers.## The Twist: How LLMs are Actually Helping\nIf RL is dead, where is the AI?\nTop competitors aren\u2019t using LLMs to*solve*the puzzle; they are using LLMs to**write the solver**.\nPython is too slow for 10 billion annealing steps. The meta this year is to prompt Gemini 3 or Claude to:\n\u201cRewrite this Python overlap-check function in Rust/C++ with AVX2 vectorization.\u201d\nWe are seeing \u201cHybrid\u201d workflows where the**Human**defines the heuristics, the**LLM**writes the highly optimized C++ kernels, and**Simulated Annealing**does the heavy lifting.\n## The Starter Code: A Simple Annealer\nIf you want to jump in before the January deadline, don\u2019t start with PyTorch. Start here.\nHere is a conceptual snippet for a \u201cPerturbation\u201d mover \u2014the heart of any good annealing solution.\n```\nimport numpy as np\nimport math\ndef anneal(layout, max\\_temps=10000):\n# layout: Array of [x, y, rotation] for N trees\ncurrent\\_score = calculate\\_area(layout)\ntemperature = 1.0\ncooling\\_rate = 0.9995\nfor i in range(max\\_temps):\n# 1. Propose a Move (The &quot;Shake&quot;)\n# We only move ONE tree slightly to save compute\nidx = np.random.randint(0, len(layout))\noriginal\\_pos = layout[idx].copy()\n# Perturb: Move x/y by small amount, rotate slightly\nlayout[idx][0] += np.random.normal(0, temperature)\nlayout[idx][1] += np.random.normal(0, temperature)\nlayout[idx][2] += np.random.normal(0, temperature \\* 10) # Rotate\n# 2. Check Constraints (The &quot;Wall&quot;)\nif check\\_overlap(layout):\n# Revert immediately if invalid\nlayout[idx] = original\\_pos\ncontinue\n# 3. Acceptance Criteria (Metropolis-Hastings)\nnew\\_score = calculate\\_area(layout)\ndelta = new\\_score - current\\_score\n# If better, accept. If worse, accept with prob based on Temp.\nif delta &lt; 0 or math.exp(-delta / temperature) &gt; np.random.rand():\ncurrent\\_score = new\\_score\nelse:\nlayout[idx] = original\\_pos # Revert\n# Cool down\ntemperature \\*= cooling\\_rate\nreturn layout, current\\_score\n# Pro Tip: Ask an LLM to convert &#x27;&#x27;check\\_overlap&#x27;&#x27; to Cython for 100x speed.\n```\nThe competition ends**January 30, 2026**. You have 40 days. Put down the Neural Network and pick up a physics textbook.\n*(****Discussion:****Are you using a Lattice approach or pure Annealing for N=200? Let\u2019s discuss strategy in the comments!)*\n[\n![Himanshu Dhiman](https://miro.medium.com/v2/resize:fill:96:96/1*3jyWFYIYAox5D7cqT7gIRA.jpeg)\n](https://hmnshudhmn24.medium.com/?source=post_page---post_author_info--087f3f04fa97---------------------------------------)\n[\n![Himanshu Dhiman](https://miro.medium.com/v2/resize:fill:128:128/1*3jyWFYIYAox5D7cqT7gIRA.jpeg)\n](https://hmnshudhmn24.medium.com/?source=post_page---post_author_info--087f3f04fa97---------------------------------------)\n[## Written byHimanshu Dhiman\n](https://hmnshudhmn24.medium.com/?source=post_page---post_author_info--087f3f04fa97---------------------------------------)\n[20 followers](https://hmnshudhmn24.medium.com/followers?source=post_page---post_author_info--087f3f04fa97---------------------------------------)\n\u00b7[0 following](https://hmnshudhmn24.medium.com/following?source=post_page---post_author_info--087f3f04fa97---------------------------------------)\nJust another human t...",
      "url": "https://hmnshudhmn24.medium.com/kaggle-santa-2025-why-reinforcement-learning-is-failing-087f3f04fa97"
    },
    {
      "title": "Kaggle Competition: Christmas Tree Packing Challenge",
      "text": "Calvin Chang Portfolio\n[Back to portfolio](https://calvinchang1.com/#projects)\nKaggleDec 2025 \u2013Jan 2026\n# Kaggle Competition: Christmas Tree Packing Challenge\nCreating Optimal Solution for Irregular Shaped Packing Problem\n![Kaggle Competition: Christmas Tree Packing Challenge](https://calvinchang1.com/project_img/santa.png)\n## Project Overview\nBuilt a mathematics model that is focused on creating the optimal solution to pack irregular shapes in the form of a Christmas Tree into the tighest square constraint possible. Ranked highest 26th on the leaderboard.\n### Technologies Used\nPythonModelingPacking ProblemMachine LearningMathematicspandas\n### Impact\nCreated optimal solution for finding the model to pack tight irregular shapes within tight constraints",
      "url": "https://calvinchang1.com/projects/kaggle-santa-packing"
    },
    {
      "title": "GitHub - benbarsdell/KaggleSantaPacking: C++ code for validating and scoring solutions to the Kaggle 2013 holiday competition Packing Santa's Sleigh",
      "text": "[Skip to content](https://github.com/benbarsdell/KaggleSantaPacking#start-of-content)\n\nYou signed in with another tab or window. [Reload](https://github.com/benbarsdell/KaggleSantaPacking) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/benbarsdell/KaggleSantaPacking) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/benbarsdell/KaggleSantaPacking) to refresh your session.Dismiss alert\n\n{{ message }}\n\n[benbarsdell](https://github.com/benbarsdell)/ **[KaggleSantaPacking](https://github.com/benbarsdell/KaggleSantaPacking)** Public\n\n- [Notifications](https://github.com/login?return_to=%2Fbenbarsdell%2FKaggleSantaPacking) You must be signed in to change notification settings\n- [Fork\\\n0](https://github.com/login?return_to=%2Fbenbarsdell%2FKaggleSantaPacking)\n- [Star\\\n2](https://github.com/login?return_to=%2Fbenbarsdell%2FKaggleSantaPacking)\n\n\nC++ code for validating and scoring solutions to the Kaggle 2013 holiday competition Packing Santa's Sleigh\n\n### License\n\n[Apache-2.0 license](https://github.com/benbarsdell/KaggleSantaPacking/blob/master/LICENSE)\n\n[2\\\nstars](https://github.com/benbarsdell/KaggleSantaPacking/stargazers) [0\\\nforks](https://github.com/benbarsdell/KaggleSantaPacking/forks) [Branches](https://github.com/benbarsdell/KaggleSantaPacking/branches) [Tags](https://github.com/benbarsdell/KaggleSantaPacking/tags) [Activity](https://github.com/benbarsdell/KaggleSantaPacking/activity)\n\n[Star](https://github.com/login?return_to=%2Fbenbarsdell%2FKaggleSantaPacking)\n\n[Notifications](https://github.com/login?return_to=%2Fbenbarsdell%2FKaggleSantaPacking) You must be signed in to change notification settings\n\n# benbarsdell/KaggleSantaPacking\n\nThis commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.\n\nmaster\n\n[Branches](https://github.com/benbarsdell/KaggleSantaPacking/branches) [Tags](https://github.com/benbarsdell/KaggleSantaPacking/tags)\n\nGo to file\n\nCode\n\n## Folders and files\n\n| Name | Name | Last commit message | Last commit date |\n| --- | --- | --- | --- |\n| ## Latest commit<br>## History<br>[6 Commits](https://github.com/benbarsdell/KaggleSantaPacking/commits/master/) |\n| [bin](https://github.com/benbarsdell/KaggleSantaPacking/tree/master/bin) | [bin](https://github.com/benbarsdell/KaggleSantaPacking/tree/master/bin) |  |  |\n| [include](https://github.com/benbarsdell/KaggleSantaPacking/tree/master/include) | [include](https://github.com/benbarsdell/KaggleSantaPacking/tree/master/include) |  |  |\n| [obj](https://github.com/benbarsdell/KaggleSantaPacking/tree/master/obj) | [obj](https://github.com/benbarsdell/KaggleSantaPacking/tree/master/obj) |  |  |\n| [src](https://github.com/benbarsdell/KaggleSantaPacking/tree/master/src) | [src](https://github.com/benbarsdell/KaggleSantaPacking/tree/master/src) |  |  |\n| [LICENSE](https://github.com/benbarsdell/KaggleSantaPacking/blob/master/LICENSE) | [LICENSE](https://github.com/benbarsdell/KaggleSantaPacking/blob/master/LICENSE) |  |  |\n| [Makefile](https://github.com/benbarsdell/KaggleSantaPacking/blob/master/Makefile) | [Makefile](https://github.com/benbarsdell/KaggleSantaPacking/blob/master/Makefile) |  |  |\n| [Makefile.inc](https://github.com/benbarsdell/KaggleSantaPacking/blob/master/Makefile.inc) | [Makefile.inc](https://github.com/benbarsdell/KaggleSantaPacking/blob/master/Makefile.inc) |  |  |\n| [README.md](https://github.com/benbarsdell/KaggleSantaPacking/blob/master/README.md) | [README.md](https://github.com/benbarsdell/KaggleSantaPacking/blob/master/README.md) |  |  |\n| View all files |\n\n## Repository files navigation\n\n# Kaggle Santa Packing\n\nC++ code for validating and scoring solutions to the Kaggle holiday competition\n[Packing Santa's Sleigh](https://www.kaggle.com/c/packing-santas-sleigh).\n\n## About\n\nThe code uses the [Thrust](http://thrust.github.io) library and thus can be\ncompiled for OpenMP, TBB or CUDA backends, making it very fast on multicore\nCPUs and Nvidia GPUs.\n\nMethods are provided for efficiently validating and scoring a solution.\nThe validation routines check that:\n\n- there are the correct number of presents,\n- all presents lie within the sleigh boundaries,\n- all presents have the correct dimensions, and\n- no presents intersect each other.\n\n## Building\n\nThe code was developed and tested only on an Ubuntu system. Compiling on\nother operating systems will likely require some additional work.\n\nThe code requires the [Thrust](http://thrust.github.io) header library, and\noptionally the [CUDA toolkit](https://developer.nvidia.com/cuda-toolkit) (which\nincludes a compatible version of Thrust).\n\nTo build the code:\n\n> Edit Makefile.inc to match your system configuration\n\n> $ make\n\nTo test the code:\n\n> $ make test\n\n## Usage\n\nThere are two classes:\n\n- SantaProblem, which stores the dimensions of each present, and\n- SantaSolution, which stores the min/max coords of each present in a solution,\n\nalong with two driver programs:\n\n- check\\_solution, which reads .csv files and prints out validation and score\ninformation, and\n- unit\\_tests, which performs unit tests on the two classes.\n\nFor example:\n\n> $ OMP\\_NUM\\_THREADS=4 ./bin/check\\_solution\\_omp presents.csv mysubmissionfile.csv\n\n> Load time = 2.78873 s\n\n> Validating solution\n\n> Validation time = 0.518001 s\n\n> ```\n>             = 1.9305 Hz\n>\n> ```\n\n> Evaluating solution\n\n> Evaluation time = 0.080871 s\n\n> ```\n>             = 12.3654 Hz\n>\n> ```\n\n> Solution VERIFIED\n\n> * * *\n\n> SCORE: 5270836\n\n> * * *\n\n## Contact\n\nBen Barsdell\n\nbenbarsdell at gmail\n\n## About\n\nC++ code for validating and scoring solutions to the Kaggle 2013 holiday competition Packing Santa's Sleigh\n\n### Resources\n\n[Readme](https://github.com/benbarsdell/KaggleSantaPacking#readme-ov-file)\n\n### License\n\n[Apache-2.0 license](https://github.com/benbarsdell/KaggleSantaPacking#Apache-2.0-1-ov-file)\n\n[Activity](https://github.com/benbarsdell/KaggleSantaPacking/activity)\n\n### Stars\n\n[**2**\\\nstars](https://github.com/benbarsdell/KaggleSantaPacking/stargazers)\n\n### Watchers\n\n[**2**\\\nwatching](https://github.com/benbarsdell/KaggleSantaPacking/watchers)\n\n### Forks\n\n[**0**\\\nforks](https://github.com/benbarsdell/KaggleSantaPacking/forks)\n\n[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fbenbarsdell%2FKaggleSantaPacking&report=benbarsdell+%28user%29)\n\n## [Releases](https://github.com/benbarsdell/KaggleSantaPacking/releases)\n\nNo releases published\n\n## [Packages\\ 0](https://github.com/users/benbarsdell/packages?repo_name=KaggleSantaPacking)\n\nNo packages published\n\n## Languages\n\n- [C++100.0%](https://github.com/benbarsdell/KaggleSantaPacking/search?l=c%2B%2B)\n\nYou can\u2019t perform that action at this time.",
      "url": "https://github.com/benbarsdell/KaggleSantaPacking"
    },
    {
      "title": "Search code, repositories, users, issues, pull requests...",
      "text": "GitHub - leotac/Packing-Santas-Sleigh: :santa: Code for Kaggle&#39;s Christmas holiday competition, Packing Santa&#39;s Sleigh\n[Skip to content](#start-of-content)\n## Navigation Menu\nToggle navigation\n[](https://github.com/)\n[Sign in](https://github.com/login?return_to=https://github.com/leotac/Packing-Santas-Sleigh)\nAppearance settings\nSearch or jump to...\n# Search code, repositories, users, issues, pull requests...\n</option></form>\nSearch\nClear\n[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)\n# Provide feedback\n</option></form>\nWe read every piece of feedback, and take your input very seriously.\nInclude my email address so I can be contacted\nCancelSubmit feedback\n# Saved searches\n## Use saved searches to filter your results more quickly\n</option></form>\nName\nQuery\nTo see all available qualifiers, see our[documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).\nCancelCreate saved search\n[Sign in](https://github.com/login?return_to=https://github.com/leotac/Packing-Santas-Sleigh)\n[Sign up](https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=/%3Cuser-name%3E/%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=leotac/Packing-Santas-Sleigh)\nAppearance settings\nResetting focus\nYou signed in with another tab or window.[Reload]()to refresh your session.You signed out in another tab or window.[Reload]()to refresh your session.You switched accounts on another tab or window.[Reload]()to refresh your session.Dismiss alert\n{{ message }}\n[leotac](https://github.com/leotac)/**[Packing-Santas-Sleigh](https://github.com/leotac/Packing-Santas-Sleigh)**Public\n* [Notifications](https://github.com/login?return_to=/leotac/Packing-Santas-Sleigh)You must be signed in to change notification settings\n* [Fork0](https://github.com/login?return_to=/leotac/Packing-Santas-Sleigh)\n* [Star2](https://github.com/login?return_to=/leotac/Packing-Santas-Sleigh)\n\ud83c\udf85Code for Kaggle's Christmas holiday competition, Packing Santa's Sleigh\n[2stars](https://github.com/leotac/Packing-Santas-Sleigh/stargazers)[0forks](https://github.com/leotac/Packing-Santas-Sleigh/forks)[Branches](https://github.com/leotac/Packing-Santas-Sleigh/branches)[Tags](https://github.com/leotac/Packing-Santas-Sleigh/tags)[Activity](https://github.com/leotac/Packing-Santas-Sleigh/activity)\n[Star](https://github.com/login?return_to=/leotac/Packing-Santas-Sleigh)\n[Notifications](https://github.com/login?return_to=/leotac/Packing-Santas-Sleigh)You must be signed in to change notification settings\n# leotac/Packing-Santas-Sleigh\nmaster\n[Branches](https://github.com/leotac/Packing-Santas-Sleigh/branches)[Tags](https://github.com/leotac/Packing-Santas-Sleigh/tags)\n[](https://github.com/leotac/Packing-Santas-Sleigh/branches)[](https://github.com/leotac/Packing-Santas-Sleigh/tags)\nGo to file\nCode\nOpen more actions menu\n## Folders and files\n|Name|Name|\nLast commit message\n|\nLast commit date\n|\n## Latest commit\n## History\n[22 Commits](https://github.com/leotac/Packing-Santas-Sleigh/commits/master/)\n[](https://github.com/leotac/Packing-Santas-Sleigh/commits/master/)\n|\n[.gitignore](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/.gitignore)\n|\n[.gitignore](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/.gitignore)\n|\n|\n|\n[BottomUp.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/BottomUp.py)\n|\n[BottomUp.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/BottomUp.py)\n|\n|\n|\n[LowerBound.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/LowerBound.py)\n|\n[LowerBound.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/LowerBound.py)\n|\n|\n|\n[MetricCalculation.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/MetricCalculation.py)\n|\n[MetricCalculation.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/MetricCalculation.py)\n|\n|\n|\n[README.md](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/README.md)\n|\n[README.md](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/README.md)\n|\n|\n|\n[TopDown.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/TopDown.py)\n|\n[TopDown.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/TopDown.py)\n|\n|\n|\n[TopDownOnePass.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/TopDownOnePass.py)\n|\n[TopDownOnePass.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/TopDownOnePass.py)\n|\n|\n|\n[presents.csv](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/presents.csv)\n|\n[presents.csv](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/presents.csv)\n|\n|\n|\n[presents\\_revorder.csv](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/presents_revorder.csv)\n|\n[presents\\_revorder.csv](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/presents_revorder.csv)\n|\n|\n|\n[viewer.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/viewer.py)\n|\n[viewer.py](https://github.com/leotac/Packing-Santas-Sleigh/blob/master/viewer.py)\n|\n|\n|\nView all files\n|\n## Repository files navigation\n# PackingSantasSleigh\n[](#packingsantassleigh)\nCode for my submissions to Kaggle's holiday competition,[Packing Santa's Sleigh](http://www.kaggle.com/c/packing-santas-sleigh).\n* MetricCalculation.py: calculates the competition metric (order term + height term)\n* TopDown.py and TopDownOnePass.py: obtain a packing in a Top-Down direction\n* BottomUp.py: obtain a packing in a Bottom-Up direction\n* LowerBound.py: compute lower bound for layer approach\n## About\n\ud83c\udf85Code for Kaggle's Christmas holiday competition, Packing Santa's Sleigh\n### Resources\n[Readme](#readme-ov-file)\n### Uh oh!\nThere was an error while loading.[Please reload this page]().\n[Activity](https://github.com/leotac/Packing-Santas-Sleigh/activity)\n### Stars\n[**2**stars](https://github.com/leotac/Packing-Santas-Sleigh/stargazers)\n### Watchers\n[**1**watching](https://github.com/leotac/Packing-Santas-Sleigh/watchers)\n### Forks\n[**0**forks](https://github.com/leotac/Packing-Santas-Sleigh/forks)\n[Report repository](https://github.com/contact/report-content?content_url=https://github.com/leotac/Packing-Santas-Sleigh&amp;report=leotac+(user))\n## [Releases](https://github.com/leotac/Packing-Santas-Sleigh/releases)\nNo releases published\n## [Packages0](https://github.com/users/leotac/packages?repo_name=Packing-Santas-Sleigh)\nNo packages published\n## Languages\n* [Python100.0%](https://github.com/leotac/Packing-Santas-Sleigh/search?l=python)\nYou can\u2019t perform that action at this time.",
      "url": "https://github.com/leotac/Packing-Santas-Sleigh"
    },
    {
      "title": "Santa 2025 - Christmas Tree Packing Challenge | Kaggle",
      "text": "Santa 2025 - Christmas Tree Packing Challenge | Kaggle\nKaggle uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic.\n[\nLearn more\n](https://www.kaggle.com/cookies)\nOK, Got it.\n![Something went wrong and this page crashed!](https://www.kaggle.com/static/images/error/server-error-illo_light.svg)###### Something went wrong and this page crashed!\nIf the issue persists, it's likely a problem on our side.\n```\nLoading CSS chunk 1019 failed.\\\\n(https://www.kaggle.com/static/assets/KernelViewer.21f94db0016b9074.css)\nkeyboard\\_arrow\\_upcontent\\_copy\nError: Loading CSS chunk 1019 failed.\\\\n(https://www.kaggle.com/static/assets/KernelViewer.21f94db0016b9074.css)\nat t.onerror.t.onload (https://www.kaggle.com/static/assets/runtime.js?v=bea9d6a1ea19b8dd:1:10008)\n```\nRefresh",
      "url": "https://www.kaggle.com/code/zwxiang123/santa-2025-christmas-tree-packing-challenge?scriptVersionId=287416463"
    },
    {
      "title": "Santa 2025 - Christmas Tree Packing Challenge",
      "text": "[AI\u8d5b\u4e8b\u901a](https://www.competehub.dev/en)Open menu\n[AI Compete Hub](https://www.competehub.dev/en)\nSanta 2025 - Christmas Tree Packing Challenge - CompeteHub\nK\nKAGGLE\u2022DATA ALGORITHM\u20222 MONTHS LEFT\nJoin CompetitionMore options\n# Santa 2025 - Christmas Tree Packing Challenge\n## How many Christmas trees can fit in a box? Help solve a classic optimization problem with a festive twist.\n![AI Competition: Santa 2025 - Christmas Tree Packing Challenge - Detailed competition information, rules, and participation guidelines](https://ai77-pub.oss-ap-southeast-1.aliyuncs.com/competitions/images/logo_kagglesanta-2025.png)\nStart Date\n11/17/2025\nEnd Date\n1/30/2026\nOverview\n## \ud83c\udf84Santa 2025 - Christmas Tree Packing Challenge \ud83c\udf84## Overview\nThis competition, hosted by Kaggle, presents a festive twist on a classic optimization problem. Participants are tasked with determining the optimal way to pack Christmas tree toys into the smallest possible square box, allowing Santa Claus to mail them efficiently around the globe. The challenge is to find the dimensions of the smallest square box that can fit between 1 to 200 trees.\nThe competition is designed to encourage innovation and problem-solving skills, with a focus on packing efficiency. Participants are encouraged to submit their solutions, which will be evaluated based on the normalized area of the square bounding box for each puzzle configuration.\n### Description\nThe challenge is inspired by Santa&#x27;s need for the smallest box to fit all the tiny trees for his Christmas deliveries. Participants are required to find the best packing solution to help Santa Claus and win the competition&#x27;s prize.\n### Evaluation\nSubmissions are evaluated on the sum of the normalized area of the square bounding box for each puzzle. The formula for the score is:\n```\n`score = \u2211(sn^2/n)`\n```\nwhere`sn`is the side of the square box bounding the trees and`n`is the total number of trees in the configuration.\n### Submission File\nEach submission must include the tree position (`x`,`y`) and rotation (`deg`) for each`id`in the submission. The values must be converted to a string and prepended with an`s`before submission. Submissions with overlapping trees will result in an error. Location values must be constrained to -100 \u2264x, y \u2264100.\nThe file should have the following format:\n```\n`id,x,y,deg\n001\\_0,s0.0,s0.0,s20.411299\n002\\_0,s0.0,s0.0,s20.411299\n002\\_1,s-0.541068,s0.259317,s51.66348\netc.`\n```\n### Timeline\n* **November 17, 2025**: Start Date\n* **January 23, 2026**: Entry Deadline\n* **January 23, 2026**: Team Merger Deadline\n* **January 30, 2026**: Final Submission Deadline\nAll deadlines are at 11:59 PM UTC unless otherwise noted.\n### Prizes\n* **First Prize**: $12,000\n* **Second Prize**: $10,000\n* **Third Prize**: $10,000\n* **Fourth Prize**: $8,000\nAdditionally, a**Rudolph Prize**of $10,000 is awarded to the team holding 1st place on the leaderboard for the longest period of time between November 17, 2025, and January 30, 2026.\n### Citation\nWalter Reade and Ashley Oldacre. Santa 2025 - Christmas Tree Packing Challenge.[https://kaggle.com/competitions/santa-2025](https://kaggle.com/competitions/santa-2025), 2025. Kaggle.\n## Key Points\n* \ud83d\ude80Hosted by Kaggle\n* \ud83c\udfafOptimize packing of Christmas tree toys into the smallest square box\n* \u2705Find the optimal packing solution for Santa Claus\n* \ud83d\udcc8Score based on normalized area of the square bounding box\n* \ud83d\udcb3Total prize pool of $50,000## Objectives\n* To solve a classic optimization problem with a festive twist\n* To encourage innovation and problem-solving skills\n* To find the most efficient packing solution for Christmas tree toys## Requirements\n* Participants must submit a file with tree positions and rotations\n* Submissions must avoid overlapping trees\n* Location values must be constrained to -100 \u2264x, y \u2264100## Important Details\n* The competition runs for 2 months\n* Prizes are awarded for the best solutions\n* A special Rudolph Prize is awarded for the longest period of 1st place on the leaderboard\nThis overview is a content summary. For detailed competition information, please visit the[official competition page](https://www.competehub.dev/click?id=kagglesanta-2025&amp;type=competition&amp;redirect_url=https://www.kaggle.com/competitions/santa-2025).\nCompetition Source\nK\nKAGGLE\nPrize\n$50,000\nParticipants\nTeams1,720\nOrganizer\nKAGGLE\nTags\nOptimizationHolidays and Cultural Events",
      "url": "https://www.competehub.dev/en/competitions/kagglesanta-2025"
    },
    {
      "title": "Santa's stolen sleigh - Kaggle\u2019s optimization competition",
      "text": "# Santa\u2019s stolen sleigh \u2013 Kaggle\u2019s optimization competition\n\n[deepsense.ai](https://deepsense.ai/blog/author/ds-admin/)\n\n10 minutes\n\nread\n\n\u2022\n\n1 June, 2016\n\n- [Share using Native toolsShareCopied to clipboard](https://deepsense.ai/blog/santas-stolen-sleigh-kaggles-optimization-competition/)\n- [Click to share on LinkedIn (Opens in new window)LinkedIn](https://www.linkedin.com/sharing/share-offsite/?url=https://deepsense.ai/blog/santas-stolen-sleigh-kaggles-optimization-competition/&nb=1)\n- [Click to share on X (Opens in new window)X](https://twitter.com/intent/tweet?text=https://deepsense.ai/blog/santas-stolen-sleigh-kaggles-optimization-competition/&nb=1)\n- [Click to share on Facebook (Opens in new window)Facebook](https://www.facebook.com/sharer/sharer.php?u=https://deepsense.ai/blog/santas-stolen-sleigh-kaggles-optimization-competition/&nb=1)\n\nTable of\u00a0contents\n\n**This year\u2019s annual Kaggle\u2019s optimization competition, sponsored once again by\u00a0FICO, was \u201cSanta\u2019s Stolen Sleigh\u201d which featured a\u00a0variant of\u00a0a\u00a0vehicle routing problem. Our team master.exploder@deepsense.io claimed [3rd place](https://www.kaggle.com/c/santas-stolen-sleigh/leaderboard) overall, as\u00a0well as\u00a0the [Xpress Prize](https://www.kaggle.com/c/santas-stolen-sleigh/forums/t/18314/results-are-now-final-and-call-for-xpress-prize), awarded for best use of\u00a0the FICO Xpress Optimization Suite.**\n\nTable of\u00a0contents\n\nThe goal of\u00a0the challenge was to\u00a0organize Santa\u2019s gift-delivery schedule in\u00a0a\u00a0way that minimizes the reindeer\u2019s total workload.\n\nAll the gifts are stored in\u00a0a\u00a0warehouse at\u00a0the North Pole, where Santa loads them onto his sleigh. He\u00a0has to\u00a0take into account that each gift weighs a\u00a0certain amount, and the sleigh cannot carry more than 1,000 kg at\u00a0a\u00a0time. Santa then delivers the batch of\u00a0gifts and comes back for the next one. Given that the total weight of\u00a0all gifts was about 1.4\\*106 kg, Santa has to\u00a0make at\u00a0least 1,400 trips to\u00a0deliver all the gifts.\n\nWhile it\u00a0is\u00a0very natural to\u00a0ask for a\u00a0set of\u00a0trips with the shortest total distance traveled, Santa has a\u00a0much more important goal in\u00a0mind \u2013 to\u00a0minimize the reindeer\u2019s workload. This is\u00a0defined as\u00a0the integral of\u00a0weight carried over the distance traveled. In\u00a0simple terms, for every meter traveled with x kg of\u00a0sleigh weight, the weariness increases by\u00a0x \\[kg\\*m\\]. Note that sleigh itself weighs 10 kg, which is\u00a0rather small compared to\u00a0the 1,000 kg of\u00a0maximum load, but does affect the problem quite significantly.\n\n## The data\n\nThe problem described above is\u00a0NP-hard. This means that depending on\u00a0the actual instance to\u00a0be\u00a0solved, very different approaches should be\u00a0used. For small or\u00a0highly structured sets of\u00a0data, one might hope for a\u00a0fast exact solution.\n\nOn\u00a0the other hand, for generic and large sets of\u00a0data, the best one can hope for is\u00a0a\u00a0good, but suboptimal solution. The challenge data consisted of\u00a0100,000 gifts with more or\u00a0less random weights and destinations selected randomly all over the world. For data that large, it\u00a0is\u00a0likely not possible to\u00a0find an\u00a0optimal solution within reasonable time. However, given the problem\u2019s similarity to\u00a0the much studied Travelling Salesman Problem, one can hope for some very good heuristics.\n\n## The basic approach\n\nIt\u00a0is\u00a0generally agreed, that the best methods for approaching an\u00a0Kaggle\u2019s optimization competition like this are based on\u00a0local search. The idea is\u00a0to\u00a0start with an\u00a0easy to\u00a0obtain solution (e.g. a\u00a0random or\u00a0greedy one) and then keep performing improvements. The way this is\u00a0usually implemented is\u00a0as\u00a0follows: For every solution (also called a\u00a0_state_), we\u00a0define a\u00a0set of\u00a0_close_ solutions, also called its _neighbors_. We\u00a0then either scan all neighbors looking for one that is\u00a0better than the current state, or\u00a0perhaps sample this set. The word _local_ might suggest that the differences between neighboring solutions are restricted spatially, but that is\u00a0often not the case. Instead, the word _local_ points at\u00a0the locality structure of\u00a0the state space induced by\u00a0the neighborhoods.\n\nThe most naive implementation of\u00a0local search would be\u00a0to\u00a0exhaustively scan the whole neighborhood of\u00a0the current solution at\u00a0each step and then proceed with either the first or\u00a0the best-improving move found. Rather aptly, this approach is\u00a0usually called _hill climbing_, and it\u00a0has a\u00a0rather glaring weakness. Just as\u00a0always going uphill does not necessarily lead to\u00a0reaching the highest peak, hill climbing has a\u00a0tendency to\u00a0get stuck in\u00a0so-called _local optima_. These are solutions that, while not optimal, are still better than all of\u00a0their neighbors.\n\nOne could devote thousands of\u00a0pages to\u00a0describing the different approaches to\u00a0handling the problem of\u00a0local optima in\u00a0local search algorithms (to\u00a0name a\u00a0few: simulated annealing, threshold acceptance, tabu search, etc.). An\u00a0obvious solution would be\u00a0to\u00a0simply increase the size of\u00a0the neighborhoods, i.e. look further away. While this sometimes works surprisingly well (e.g. state of\u00a0the art TSP solvers based on\u00a0Lin-Kernighan heuristic do\u00a0exactly that), it\u00a0does not improve things substantially in\u00a0general. A\u00a0more subtle idea is\u00a0to\u00a0sometimes move to\u00a0a\u00a0state that is\u00a0worse than the current. The most popular approach based on\u00a0this idea is\u00a0_simulated annealing_. In\u00a0simulated annealing (SA), one maintains an\u00a0additional parameter T, called the temperature. This parameter is\u00a0initially set to\u00a0a\u00a0large value and gradually decreased. SA randomly chooses a\u00a0neighbor of\u00a0the current state. If\u00a0it\u00a0improves upon the current state, it\u00a0is\u00a0always accepted, otherwise SA proceeds in\u00a0a\u00a0probabilistic fashion. When T is\u00a0large, the move is\u00a0still quite likely to\u00a0be\u00a0accepted. On\u00a0the other hand, when T is\u00a0very small, SA essentially reverts back to\u00a0hill climbing. The way this behaviour is\u00a0achieved is\u00a0by\u00a0accepting a\u00a0worsening move with probability exp((old\\_objective-new\\_objective)/T).\n\nAs\u00a0an\u00a0example, consider a\u00a0move that increases the objective function by\u00a01. For T=100, this move would be\u00a0accepted with probability exp(-1/100), which is\u00a0around 99/100. On\u00a0the other hand, for T=1/100, this move would be\u00a0accepted with probability exp(-100), i.e. almost never. From our experience, simulated annealing is\u00a0the most effective approach to\u00a0handling problems like this one, and that is\u00a0the approach we\u00a0decided to\u00a0go\u00a0with.\n\n## Choosing the right moves\n\nDeciding on\u00a0the shape of\u00a0the neighborhoods, i.e. what kind of\u00a0moves are allowed for a\u00a0given state, is\u00a0very often the key design decision in\u00a0implementing SA. We\u00a0kept making small adjustments to\u00a0our list of\u00a0moves until the very end of\u00a0the competition, and here is\u00a0what we\u00a0arrived at:\n\n- swap positions of\u00a0two gifts in\u00a0the same route,\n- move a\u00a0gift to\u00a0an\u00a0arbitrary position within the same route,\n- move a\u00a0gift to\u00a0an\u00a0arbitrary position in\u00a0another route,\n- swap positions of\u00a0two gifts from two different routes,\n- double shift: move one gift from route r1 to\u00a0route r2 and another gift from route r2 to\u00a0route r1,\n- swap suffixes of\u00a0two routes,\n- three-way suffix swap: given three routes r1, r2, r3 split each of\u00a0them into two parts ri=prefisufi, where prefi is\u00a0a\u00a0prefix of\u00a0ri and sufi is\u00a0a\u00a0suffix of\u00a0ri, then create new routes r\u20191=pref1suf2, r\u20192=pref2suf3, r\u20193=pref3suf1.\n\nIt\u00a0is\u00a0worth noting that all of\u00a0the moves on\u00a0this list are non-greedy ones. We\u00a0do\u00a0not use moves like \u201cRemove an\u00a0item from one route and place it\u00a0_optimally_ in\u00a0another route\u201d. There are pros and cons to\u00a0such moves. On\u00a0one hand, they lead to\u00a0much faster convergence towards good solutions, they also naturally prevent divergence in\u00a0higher temperatures. On\u00a0the other hand, by\u00a0using such moves one risks getting stuck at\u00a0local optima too quickly \u2013 despite using SA. This is\u00a0always a\u00a0delicate balance, and it\u00a0is\u00a0very hard to\u00a0reason out in\u00a0a\u00a0rigorous fashion. In\u00a0this particular case, more greedy moves might have actually been better. As\u00a0it\u00a0turned out, the top two teams used them, and it\u00a0seems to\u00a0be\u00a0the biggest difference between our solution and theirs.\n\n## Where to\u00a0begin?\n\nUsually, one initializes SA with a\u00a0random solution. However, ...",
      "url": "https://deepsense.ai/santas-stolen-sleigh-kaggles-optimization-competition"
    }
  ]
}