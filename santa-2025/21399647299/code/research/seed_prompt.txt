## Current Status
- Best CV score: 70.316492 (from exp_022 onwards - 8 consecutive experiments at this score)
- Best LB score: 70.3165 (verified - CV = LB perfectly)
- Target: 68.874108 | Gap to target: 1.442384 (2.05%)
- Submissions used: 13/100 (87 remaining)

## CRITICAL SITUATION: 8 EXPERIMENTS WITH ZERO IMPROVEMENT

We are STUCK at 70.316492. The last 8 experiments (exp_020 through exp_027) have found ZERO improvement.

### What Has Been Tried (ALL FAILED):
- Simulated Annealing (multiple variants)
- Branch-and-bound for small N
- Exhaustive search for N=2
- NFP-based placement
- Multi-start random initialization
- Genetic algorithm
- Lattice packing (hexagonal, square)
- Interlock pattern analysis
- Jostle algorithm
- Bottom-Left-Fill constructive heuristic
- Extended C++ optimization (576 sec, 50K iterations, 80 restarts)

### Key Insight: The baseline is at an EXTREMELY strong local optimum
- All perturbation methods converge back to baseline
- All constructive methods produce WORSE solutions
- The only improvements came from EXTERNAL SOURCES (ensemble approach: 70.615 → 70.316)

## EVALUATOR FEEDBACK RESPONSE

The evaluator correctly identifies:
1. **Extended C++ optimization is the only unexplored avenue** - we should try 8-24 hours
2. **The gap (1.44 points) may require resources beyond what's available** - valid concern
3. **CV = LB perfectly** - this is a deterministic problem

## NEXT EXPERIMENT: 028_final_extended_optimization

### MANDATORY ACTIONS (IN ORDER):

**1. START EXTENDED BBOX3 OPTIMIZATION (8+ HOURS)**
```bash
cd /home/code/experiments
mkdir -p 028_final_extended_optimization
cd 028_final_extended_optimization

# Run bbox3 for maximum time with all settings
# Use -t for time limit (28800 = 8 hours)
# Use -n for iterations (100000+)
# Use -r for restarts (500+)
nohup ../bbox3 -i /home/submission/submission.csv -o optimized.csv \
    -n 100000 -r 500 -t 28800 > bbox3.log 2>&1 &

echo "bbox3 started in background. Check bbox3.log for progress."
```

**2. WHILE BBOX3 RUNS, RE-SCAN ALL EXTERNAL SOURCES**
```python
# Systematically scan ALL CSV files in snapshots
# For each N, find the absolute best score across ALL sources
# Sources to check:
#   - /home/nonroot/snapshots/santa-2025/*/code/preoptimized/
#   - /home/nonroot/snapshots/santa-2025/*/code/experiments/
#   - telegram sources
#   - bucket-of-chump
#   - santa25-public
#   - Any newly shared solutions

import glob
import pandas as pd
import numpy as np

# Find ALL CSV files
all_csvs = glob.glob('/home/nonroot/snapshots/santa-2025/**/*.csv', recursive=True)
print(f"Found {len(all_csvs)} CSV files to scan")

# For each N, track the best score and source
best_per_n = {}  # n -> (score, source_path, config)

for csv_path in all_csvs:
    try:
        df = pd.read_csv(csv_path)
        # ... compute per-N scores
        # ... update best_per_n if better
    except:
        continue

# Create ensemble from best per-N
```

**3. AFTER OPTIMIZATION COMPLETES (or after reasonable time)**
- Compare per-N scores with baseline
- Ensemble any improvements found
- Validate no overlaps (use integer arithmetic with SCALE=10^18)
- Submit new ensemble

### EXPECTED OUTCOME:
- Extended optimization may find small improvements (0.01-0.1 points)
- External source re-scan may find missed improvements
- Combined: potentially 0.1-0.3 points improvement

### REALISTIC ASSESSMENT:
The target (68.874108) may require resources beyond this session:
- Top team has 953 submissions (we have 87 remaining)
- Days of compute time (not hours)
- Private/unpublished solutions

However, we MUST try everything available. The target IS reachable.

## ⛔ FORBIDDEN (DO NOT DO)
- ❌ More SA variations (10+ attempts, all failed)
- ❌ More constructive heuristics (BLF, lattice all failed)
- ❌ More perturbation methods (jostle, genetic all failed)
- ❌ Short optimization runs (need 8+ hours, not minutes)
- ❌ Giving up or concluding target is unreachable

## SUBMIT STRATEGY
- Submit any improvement from extended optimization
- Submit any improvement from external source re-scan
- Use submissions freely - we have 87 remaining
- LB feedback is free information

## VALIDATION REQUIREMENTS
Before ANY submission:
```python
from decimal import Decimal, getcontext
getcontext().prec = 30
SCALE = 10**18

def validate_no_overlap(trees):
    from shapely import Polygon
    polygons = []
    for tree in trees:
        coords = [(int(Decimal(str(x)) * SCALE), 
                   int(Decimal(str(y)) * SCALE)) 
                  for x, y in tree.vertices]
        polygons.append(Polygon(coords))
    for i in range(len(polygons)):
        for j in range(i+1, len(polygons)):
            if polygons[i].intersects(polygons[j]) and not polygons[i].touches(polygons[j]):
                return False, f"Trees {i} and {j} overlap"
    return True, "OK"
```

## SUCCESS CRITERIA
- Any improvement over 70.316492 is progress
- Even 0.01 improvement is valuable (accumulates across submissions)
- The goal is to find ANY path forward, not necessarily reach target in one experiment