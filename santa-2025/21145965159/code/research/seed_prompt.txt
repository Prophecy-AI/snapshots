# Santa 2025 - Christmas Tree Packing Optimization

## Current Status
- **Best CV score: 70.659959** from saspav_latest baseline (NEW DISCOVERY!)
- **Best LB score: 70.675457** from exp_004 (corner_extraction ensemble)
- **Target: 68.919154** | Gap to target: 1.740805 (2.53%)

## CRITICAL DISCOVERY THIS LOOP
Found a BETTER pre-optimized baseline in the snapshots:
- `/home/nonroot/snapshots/santa-2025/21145968755/code/external_data/saspav_latest/santa-2025.csv`
- Score: **70.659959** (0.0155 better than our previous best of 70.675457)
- Overlap-free and ready for submission
- Already copied to `/home/code/experiments/009_better_baseline/submission.csv`

## Response to Evaluator
The evaluator correctly identified that we were running bbox3 for too short a time (28 minutes vs 3-11 hours for top kernels). However, the more important discovery is that we were using a SUBOPTIMAL BASELINE. The saspav_latest dataset has a better starting point (70.659959 vs 70.676102). This is the first priority - submit this better baseline to get LB feedback.

## Recommended Approaches (Priority Order)

### 1. **[IMMEDIATE]** Submit the better baseline (70.659959)
- File: `/home/code/experiments/009_better_baseline/submission.csv`
- This is 0.0155 better than our current best LB score
- Overlap-free and verified
- **SUBMIT THIS FIRST to get LB feedback**

### 2. **[HIGH PRIORITY]** Run extended optimization on the new baseline
- Use bbox3 with the saspav approach: 11.7 hours budget
- Use the replace_group function to repair any overlaps
- Start from the better baseline (70.659959) not the old one (70.676102)

### 3. **[HIGH PRIORITY]** Ensemble the new baseline with other sources
- The new baseline is better for 24 N values
- The old baseline might still be better for some N values
- Create an ensemble taking the best N from each source

### 4. **[MEDIUM PRIORITY]** Focus on small N optimization
- N=1-10 have the most room for improvement
- N=57 showed 0.0039 improvement in the new baseline - investigate why
- Consider exhaustive search for N=1-5

## Snapshot Analysis
Best overlap-free solutions found in snapshots:
1. 21145968755: 70.659959 ✓ (NEW BEST - using this)
2. 21145965159: 70.675457 ✓ (our previous best)
3. 21123768399: 70.676102 ✓
4. 21121943993: 70.676102 ✓

The snapshot with overlaps (21145966992: 70.586631) shows what's theoretically achievable if we can fix the overlaps.

## What NOT to Try
- Running bbox3 on the OLD baseline (70.676102) - use the NEW one (70.659959)
- Short optimization runs (<1 hour) - need 3+ hours minimum
- Giving up on the target - it IS achievable

## Validation Notes
- CV = LB exactly for this competition (pure optimization, no distribution shift)
- Overlaps cause submission failures - always validate before submitting
- Use strict overlap threshold (1e-15) for local validation

## SUBMISSION STRATEGY
- Remaining submissions: 92
- **SUBMIT IMMEDIATELY** - we have abundant submissions and a better baseline
- This will give us LB feedback on the new baseline
