## Current Status
- Best CV score: 0.0081 from exp_049/exp_050/exp_053 (tied)
- Best LB score: 0.0877 from exp_030 (CV=0.0083)
- Target: 0.0347 | Gap to target: 0.053 (152.8%)
- Experiments: 103 | Submissions: 23/27 used, 4 remaining

## CV-LB Relationship Analysis (CRITICAL)
- Linear fit: LB = 4.29 √ó CV + 0.0528 (R¬≤ = 0.95)
- Intercept interpretation: Even at CV=0, expected LB is 0.0528
- **CRITICAL**: Intercept (0.0528) > Target (0.0347) ‚Üí Target is BELOW the intercept!
- Required CV for target: (0.0347 - 0.0528) / 4.29 = -0.0042 (IMPOSSIBLE with current approaches)
- All 12+ valid submissions fall on the SAME LINE

## Response to Evaluator

**Technical verdict was CONCERNS** - The evaluator correctly identified a CRITICAL BUG:

### üö® SolventB% Scaling Bug (MUST FIX)
The evaluator found that exp_102 divides SolventB% by 100:
```python
sb_pct = X['SolventB%'].values.reshape(-1, 1) / 100.0  # BUG!
```

But SolventB% is ALREADY in [0, 1] range (verified: min=0.0, max=1.0).

**Impact**: A 50/50 mixture is treated as 99.5/0.5 - completely wrong!

**Fix Required**:
```python
sb_pct = X['SolventB%'].values.reshape(-1, 1)  # Already in [0, 1]
```

**I FULLY AGREE with the evaluator.** This bug must be fixed before any submission.

### Evaluator's Top Priority: Fix the SolventB% bug
**I AGREE.** The next experiment MUST fix this bug and re-run CV.

## Data Understanding
- Reference notebooks: See `exploration/evolver_loop100_analysis.ipynb` for CV-LB analysis
- Key patterns:
  1. All tabular models (MLP, LGBM, XGB, CatBoost, GP, Ridge) fall on SAME CV-LB line
  2. The intercept (0.0528) represents structural extrapolation error
  3. SolventB% is in [0, 1] range, NOT [0, 100]
  4. The mixall kernel uses GroupKFold (5 splits) instead of Leave-One-Out

## Recommended Approaches

### PRIORITY 1: Fix the SolventB% Bug (IMMEDIATE)
Create exp_103 that:
1. Removes the `/ 100.0` from `PrecomputedFeaturizerMixed.featurize()`
2. Re-runs CV with the corrected mixture features
3. Generates a valid submission

This is a BLOCKING bug that invalidates all mixture predictions.

### PRIORITY 2: Test if Corrected Mixall Gives Different CV-LB Relationship
After fixing the bug:
- If LB follows a DIFFERENT line than LB = 4.29*CV + 0.0528, this approach is promising
- If LB follows the SAME line, we need to try other approaches

### PRIORITY 3: Try the "Ens Model" Kernel Approach
The "Ens Model" kernel (9 votes) uses a different approach:
1. **CatBoost + XGBoost only** (no MLP, RF, LightGBM)
2. **Different weights**: single=7:6 (Cat:XGB), full=1:2
3. **Combined features**: spange + acs_pca + drfps + fragprints + smiles
4. **Correlation-based feature filtering** with priority
5. **Numeric feature engineering**: T_x_RT, RT_log, T_inv, RT_scaled

This is a fundamentally different approach that might give a different CV-LB relationship.

### PRIORITY 4: Extrapolation Detection + Conservative Predictions
If all approaches still fall on the same line:
```python
from sklearn.neighbors import NearestNeighbors
nn = NearestNeighbors(n_neighbors=5).fit(X_train_features)
distances, _ = nn.kneighbors(X_test_features)
extrapolation_score = distances.mean(axis=1)

# Blend toward mean when extrapolating
weight = np.clip(extrapolation_score / threshold, 0, 1)
final_pred = (1 - weight) * model_pred + weight * train_mean
```

## What NOT to Try
- ‚ùå More MLP/LGBM/XGB/CatBoost variants without changing the CV-LB relationship
- ‚ùå Multi-seed ensembles (we're 152% away from target)
- ‚ùå Hyperparameter tuning (won't change the intercept)
- ‚ùå Any approach that divides SolventB% by 100

## Validation Notes
- Use GroupKFold (5 splits) for faster iteration
- Track BOTH single-solvent MSE and full-data MSE separately
- After EVERY submission, check if LB follows the same line or a different one
- The goal is to CHANGE the CV-LB relationship, not just improve CV

## CRITICAL REMINDERS
1. **FIX THE SolventB% BUG FIRST** - Remove `/ 100.0`
2. **Verify submission cells match CV model class** - Always check!
3. **Don't submit exp_102** - It has the bug
4. **The target IS reachable** - We just need to find the right approach
